(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[411],{17354:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>M});var a=t(91215),r=t(35591),c=t(66664),i=t(12512),n=t.n(i),l=t(32668),d=t(62446),o=t(91072),m=t(3424),x=t(17630),h=t(94870),u=t(85643),j=t(7744),b=t(61397),g=t(15725),p=t(75076),N=t(96462),y=t(18782),v=t(79216),f=t(93297),S=t(75528),w=t(87555),A=t(8755),T=t(75631),k=t(19935),C=t(83748),W=t(37265),E=t(70401),R=t(79435);function M(){let[e,s]=(0,r.useState)(null),[t,i]=(0,r.useState)(!0),[M,J]=(0,r.useState)(""),[B,_]=(0,r.useState)(""),[F,P]=(0,r.useState)(null),[Z,q]=(0,r.useState)(!1),[L,D]=(0,r.useState)("dashboard"),[O,Q]=(0,r.useState)(null),[z,I]=(0,r.useState)({date:"",subject:"",topic:"",activities:"",notes:""}),[G,$]=(0,r.useState)(!1),[V,X]=(0,r.useState)([]),[H,U]=(0,r.useState)(new Date().toISOString().split("T")[0]),[Y,K]=(0,r.useState)("Section A"),[ee,es]=(0,r.useState)("Q1"),[et,ea]=(0,r.useState)([]),[er,ec]=(0,r.useState)(!1),ei=[{id:1,timeStart:"08:00",timeEnd:"09:00",subject:"Mathematics",room:"Room 101",section:"Section A",day:"Monday"},{id:2,timeStart:"09:00",timeEnd:"10:00",subject:"Mathematics",room:"Room 101",section:"Section B",day:"Monday"},{id:3,timeStart:"10:30",timeEnd:"11:30",subject:"Science",room:"Room 205",section:"Section A",day:"Monday"},{id:4,timeStart:"13:00",timeEnd:"14:00",subject:"Mathematics",room:"Room 101",section:"Section C",day:"Monday"},{id:5,timeStart:"14:00",timeEnd:"15:00",subject:"Science",room:"Room 205",section:"Section B",day:"Monday"},{id:6,timeStart:"08:00",timeEnd:"09:00",subject:"Mathematics",room:"Room 101",section:"Section A",day:"Tuesday"},{id:7,timeStart:"09:00",timeEnd:"10:00",subject:"Mathematics",room:"Room 101",section:"Section B",day:"Tuesday"},{id:8,timeStart:"10:30",timeEnd:"11:30",subject:"Science",room:"Room 205",section:"Section A",day:"Tuesday"},{id:9,timeStart:"13:00",timeEnd:"14:00",subject:"Mathematics",room:"Room 101",section:"Section C",day:"Tuesday"},{id:10,timeStart:"14:00",timeEnd:"15:00",subject:"Science",room:"Room 205",section:"Section B",day:"Tuesday"},{id:11,timeStart:"08:00",timeEnd:"09:00",subject:"Mathematics",room:"Room 101",section:"Section A",day:"Wednesday"},{id:12,timeStart:"09:00",timeEnd:"10:00",subject:"Mathematics",room:"Room 101",section:"Section B",day:"Wednesday"},{id:13,timeStart:"10:30",timeEnd:"11:30",subject:"Science",room:"Room 205",section:"Section A",day:"Wednesday"},{id:14,timeStart:"13:00",timeEnd:"14:00",subject:"Mathematics",room:"Room 101",section:"Section C",day:"Wednesday"},{id:15,timeStart:"14:00",timeEnd:"15:00",subject:"Science",room:"Room 205",section:"Section B",day:"Wednesday"},{id:16,timeStart:"08:00",timeEnd:"09:00",subject:"Mathematics",room:"Room 101",section:"Section A",day:"Thursday"},{id:17,timeStart:"09:00",timeEnd:"10:00",subject:"Mathematics",room:"Room 101",section:"Section B",day:"Thursday"},{id:18,timeStart:"10:30",timeEnd:"11:30",subject:"Science",room:"Room 205",section:"Section A",day:"Thursday"},{id:19,timeStart:"13:00",timeEnd:"14:00",subject:"Mathematics",room:"Room 101",section:"Section C",day:"Thursday"},{id:20,timeStart:"14:00",timeEnd:"15:00",subject:"Science",room:"Room 205",section:"Section B",day:"Thursday"},{id:21,timeStart:"08:00",timeEnd:"09:00",subject:"Mathematics",room:"Room 101",section:"Section A",day:"Friday"},{id:22,timeStart:"09:00",timeEnd:"10:00",subject:"Mathematics",room:"Room 101",section:"Section B",day:"Friday"},{id:23,timeStart:"10:30",timeEnd:"11:30",subject:"Science",room:"Room 205",section:"Section A",day:"Friday"},{id:24,timeStart:"13:00",timeEnd:"14:00",subject:"Mathematics",room:"Room 101",section:"Section C",day:"Friday"},{id:25,timeStart:"14:00",timeEnd:"15:00",subject:"Science",room:"Room 205",section:"Section B",day:"Friday"}],en=e=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()],el=e=>{let s=(null==e?void 0:e.toLowerCase())||"";return s.includes("filipino")||s.includes("english")||s.includes("araling panlipunan")||s.includes("ap")||s.includes("esp")||s.includes("edukasyon sa pagpapakatao")||s.includes("mother tongue")||s.includes("mt")?{writtenWork:30,performanceTasks:50,quarterlyAssessment:20}:s.includes("science")||s.includes("mathematics")||s.includes("math")?{writtenWork:40,performanceTasks:40,quarterlyAssessment:20}:s.includes("mapeh")||s.includes("music")||s.includes("arts")||s.includes("physical education")||s.includes("health")||s.includes("epp")||s.includes("tle")||s.includes("technology")||s.includes("livelihood")||s.includes("elective")||s.includes("writing")?{writtenWork:20,performanceTasks:60,quarterlyAssessment:20}:{writtenWork:30,performanceTasks:50,quarterlyAssessment:20}};(0,r.useEffect)(()=>{e&&(el(e.subject||e.subjects||"Mathematics"),ea([{id:1,name:"Juan Dela Cruz",studentNumber:"2024-001"},{id:2,name:"Maria Santos",studentNumber:"2024-002"},{id:3,name:"Jose Garcia",studentNumber:"2024-003"},{id:4,name:"Ana Reyes",studentNumber:"2024-004"},{id:5,name:"Carlos Mendoza",studentNumber:"2024-005"},{id:6,name:"Liza Torres",studentNumber:"2024-006"},{id:7,name:"Roberto Cruz",studentNumber:"2024-007"},{id:8,name:"Patricia Lim",studentNumber:"2024-008"}].map(e=>({...e,writtenWork:[,,,,,].fill(""),performanceTasks:[,,,,,].fill(""),quarterlyAssessment:""}))))},[e]);let ed=s=>{let t=el((null==e?void 0:e.subject)||(null==e?void 0:e.subjects)||"Mathematics"),a=s.writtenWork.map(e=>parseFloat(e)||0).filter(e=>e>0),r=a.length>0?a.reduce((e,s)=>e+s,0)/a.length:0,c=s.performanceTasks.map(e=>parseFloat(e)||0).filter(e=>e>0),i=c.length>0?c.reduce((e,s)=>e+s,0)/c.length:0,n=parseFloat(s.quarterlyAssessment)||0,l=r*t.writtenWork/100+i*t.performanceTasks/100+n*t.quarterlyAssessment/100;return l>0?l.toFixed(2):""},eo=(e,s,t,a)=>{ea(r=>r.map(r=>{if(r.id===e){if(null===t)return{...r,[s]:a};{let e=[...r[s]];return e[t]=a,{...r,[s]:e}}}return r}))},em=async()=>{ec(!0),setTimeout(()=>{ec(!1),alert("Grades saved successfully!")},1e3)};(0,r.useEffect)(()=>{let e=en(H),s=ei.filter(s=>s.day===e);s.sort((e,s)=>e.timeStart.localeCompare(s.timeStart)),X(s)},[H]),(0,r.useEffect)(()=>{let e=localStorage.getItem("teacher");if(e)try{let t=JSON.parse(e);s(t)}catch(e){console.error("Error parsing stored teacher data:",e),localStorage.removeItem("teacher")}i(!1)},[]);let ex=async e=>{e.preventDefault(),q(!0),P(null);try{let e=await fetch("/api/teacher/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:M,password:B})});if(!e.ok){let s=await e.json().catch(()=>({error:"Network error occurred"}));P(s.error||"Server error (".concat(e.status,"). Please try again."));return}let t=await e.json();t.success&&t.teacher?(s(t.teacher),localStorage.setItem("teacher",JSON.stringify(t.teacher)),J(""),_(""),P(null)):P(t.error||"Login failed. Please check your credentials.")}catch(s){console.error("Login error:",s);let e=(null==s?void 0:s.message)||String(s)||"";e&&(e.includes("fetch")||e.includes("network"))?P("Network error. Please check your internet connection and try again."):e&&e.includes("Failed to fetch")?P("Cannot connect to the server. Please make sure the server is running."):P("An error occurred: ".concat(e||"Please try again."))}finally{q(!1)}},eh=()=>{confirm("Are you sure you want to log out?")&&(localStorage.removeItem("teacher"),s(null),window.location.href="/")};if(t)return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("div",{className:"text-xl font-bold text-red-800",children:"Loading..."})})});if(!e)return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50 flex items-center justify-center",children:(0,a.jsxs)(d.Zp,{className:"w-full max-w-md border-red-200",children:[(0,a.jsxs)(d.aR,{className:"text-center",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)(c.default,{src:"/logo.png",alt:"Sto Ni\xf1o de Praga Academy Logo",width:80,height:80,className:"rounded-full"})}),(0,a.jsx)(d.ZB,{className:"text-2xl font-bold text-red-800",children:"Teacher Login"}),(0,a.jsx)(d.BT,{children:"Sto Ni\xf1o de Praga Academy"})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)("form",{onSubmit:ex,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(x.J,{htmlFor:"email",className:"text-red-800",children:[(0,a.jsx)(k.A,{className:"w-4 h-4 inline mr-2"}),"Email"]}),(0,a.jsx)(m.p,{id:"email",type:"email",placeholder:"teacher@example.com",value:M,onChange:e=>J(e.target.value),required:!0,className:"border-red-200"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(x.J,{htmlFor:"password",className:"text-red-800",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 inline mr-2"}),"Password"]}),(0,a.jsx)(m.p,{id:"password",type:"password",placeholder:"Enter your password",value:B,onChange:e=>_(e.target.value),required:!0,className:"border-red-200"})]}),F&&(0,a.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:F}),(0,a.jsx)(l.$,{type:"submit",disabled:Z,className:"w-full bg-red-800 hover:bg-red-700",children:Z?"Logging in...":"Login"}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(n(),{href:"/",children:(0,a.jsxs)(l.$,{type:"button",variant:"outline",className:"border-red-800 text-red-800",children:[(0,a.jsx)(S.A,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})]})})]})});let eu=async e=>{e.preventDefault();try{let e=await fetch("/api/journal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)}),s=await e.json();s.success?(alert("Journal entry saved successfully!"),$(!1),I({date:"",subject:"",topic:"",activities:"",notes:""}),window.location.reload()):alert(s.error||"Failed to save journal entry. Please try again.")}catch(e){console.error("Journal submission error:",e),console.log("Journal entry submitted:",z),alert("Journal entry saved (dev mode)"),$(!1),I({date:"",subject:"",topic:"",activities:"",notes:""})}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-md border-b-4 border-red-800",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(c.default,{src:"/logo.png",alt:"Sto Ni\xf1o de Praga Academy Logo",width:60,height:60,className:"rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-red-800",children:"Teacher Portal"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Sto Ni\xf1o de Praga Academy"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(n(),{href:"/",children:(0,a.jsxs)(l.$,{variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white",children:[(0,a.jsx)(S.A,{className:"w-4 h-4 mr-2"}),"Home"]})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium text-red-800",children:e.name||(e.first_name&&e.last_name?"".concat(e.first_name," ").concat(e.last_name):e.email)}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.subjects||e.subject||"Teacher"})]}),(0,a.jsxs)(l.$,{onClick:eh,variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white",children:[(0,a.jsx)(T.A,{className:"w-4 h-4 mr-2"}),"Log Out"]})]})]})})}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)(o.tU,{value:L,onValueChange:D,className:"w-full",children:[(0,a.jsxs)(o.j7,{className:"grid w-full grid-cols-7 mb-8",children:[(0,a.jsxs)(o.Xi,{value:"dashboard",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,a.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),(0,a.jsxs)(o.Xi,{value:"account",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,a.jsx)(R.A,{className:"w-4 h-4 mr-2"}),"My Account"]}),(0,a.jsxs)(o.Xi,{value:"calendar",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Calendar"]}),(0,a.jsxs)(o.Xi,{value:"grades",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Manage Grades"]}),(0,a.jsxs)(o.Xi,{value:"journal",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Teaching Journal"]}),(0,a.jsxs)(o.Xi,{value:"settings",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,a.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Settings"]}),(0,a.jsxs)(o.Xi,{value:"logout",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,a.jsx)(T.A,{className:"w-4 h-4 mr-2"}),"Log Out"]})]}),(0,a.jsx)(o.av,{value:"dashboard",className:"space-y-6",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{className:"text-red-800",children:"Welcome to Teacher Portal"}),(0,a.jsx)(d.BT,{children:"Use the tabs above to manage your classes, grades, and teaching journal"})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("p",{className:"text-gray-600",children:"Dashboard data will be loaded from the database."})})]})}),(0,a.jsx)(o.av,{value:"account",className:"space-y-6",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{className:"text-red-800",children:"My Account Information"}),(0,a.jsx)(d.BT,{children:"View your account details and information"})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(d.Zp,{className:"border-red-200",children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)(d.ZB,{className:"text-lg text-red-800 flex items-center",children:[(0,a.jsx)(R.A,{className:"w-5 h-5 mr-2"}),"Personal Information"]})}),(0,a.jsxs)(d.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-gray-600",children:"Full Name"}),(0,a.jsx)("p",{className:"font-medium text-red-800",children:e.name||(e.first_name&&e.last_name?"".concat(e.first_name," ").concat(e.last_name):"Not provided")})]}),e.first_name&&(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-gray-600",children:"First Name"}),(0,a.jsx)("p",{className:"font-medium",children:e.first_name})]}),e.last_name&&(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-gray-600",children:"Last Name"}),(0,a.jsx)("p",{className:"font-medium",children:e.last_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.J,{className:"text-gray-600 flex items-center",children:[(0,a.jsx)(k.A,{className:"w-4 h-4 mr-2"}),"Email Address"]}),(0,a.jsx)("p",{className:"font-medium",children:e.email})]})]})]}),(0,a.jsxs)(d.Zp,{className:"border-red-200",children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)(d.ZB,{className:"text-lg text-red-800 flex items-center",children:[(0,a.jsx)(p.A,{className:"w-5 h-5 mr-2"}),"Teaching Information"]})}),(0,a.jsxs)(d.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-gray-600",children:"Subject(s)"}),(0,a.jsx)("p",{className:"font-medium text-red-800",children:e.subjects||e.subject||"Not assigned"})]}),e.teacher_id&&(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-gray-600",children:"Teacher ID"}),(0,a.jsx)("p",{className:"font-medium",children:e.teacher_id})]}),e.department&&(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-gray-600",children:"Department"}),(0,a.jsx)("p",{className:"font-medium",children:e.department})]})]})]})]}),(e.phone||e.address||e.contact_number)&&(0,a.jsxs)(d.Zp,{className:"border-red-200",children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{className:"text-lg text-red-800",children:"Contact Information"})}),(0,a.jsxs)(d.Wu,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.phone&&(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-gray-600",children:"Phone"}),(0,a.jsx)("p",{className:"font-medium",children:e.phone})]}),e.contact_number&&(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-gray-600",children:"Contact Number"}),(0,a.jsx)("p",{className:"font-medium",children:e.contact_number})]}),e.address&&(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(x.J,{className:"text-gray-600",children:"Address"}),(0,a.jsx)("p",{className:"font-medium",children:e.address})]})]})]}),(0,a.jsxs)(d.Zp,{className:"border-red-200",children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{className:"text-lg text-red-800",children:"Additional Details"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(e).filter(e=>{let[s]=e;return!["id","email","password","name","first_name","last_name","subjects","subject","teacher_id","department","phone","contact_number","address"].includes(s)}).map(e=>{let[s,t]=e;return t&&(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{className:"text-gray-600 capitalize",children:s.replace(/_/g," ")}),(0,a.jsx)("p",{className:"font-medium",children:String(t)})]},s)})})})]})]})})]})}),(0,a.jsx)(o.av,{value:"calendar",className:"space-y-6",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{className:"text-red-800",children:"Daily Class Schedule"}),(0,a.jsx)(d.BT,{children:"View your class schedule timeline for the day"})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)(x.J,{htmlFor:"schedule-date",className:"text-sm font-medium",children:"Select Date:"}),(0,a.jsx)(m.p,{id:"schedule-date",type:"date",value:H,onChange:e=>U(e.target.value),className:"w-48"}),(0,a.jsx)(b.E,{variant:"outline",className:"ml-auto",children:en(H)})]}),V.length>0?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-red-200"}),(0,a.jsx)("div",{className:"space-y-6",children:V.map((e,s)=>(0,a.jsxs)("div",{className:"relative flex items-start gap-4",children:[(0,a.jsx)("div",{className:"relative z-10 flex flex-col items-center",children:(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-800 flex items-center justify-center text-white font-semibold shadow-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xs leading-tight",children:e.timeStart}),(0,a.jsx)("div",{className:"text-xs leading-tight",children:"-"}),(0,a.jsx)("div",{className:"text-xs leading-tight",children:e.timeEnd})]})})}),(0,a.jsx)(d.Zp,{className:"flex-1 ml-4 border-l-4 border-l-red-800 shadow-md",children:(0,a.jsxs)(d.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Subject"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-red-800",children:e.subject})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Room Number"}),(0,a.jsx)("div",{className:"text-lg font-semibold",children:e.room})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Section"}),(0,a.jsx)("div",{className:"text-lg font-semibold",children:e.section})]})]}),(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Duration: ",e.timeStart," - ",e.timeEnd]})]})]})})]},e.id))})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(N.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-2",children:["No classes scheduled for ",en(H)]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Select a different date to view your schedule"})]})]})})]})}),(0,a.jsx)(o.av,{value:"grades",className:"space-y-6",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{className:"text-red-800",children:"Student Grades Management"}),(0,a.jsx)(d.BT,{children:"View and update student grades for your classes"})]}),(0,a.jsx)(d.Wu,{children:e?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 pb-4 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.J,{htmlFor:"section-select",className:"text-sm font-medium",children:"Section:"}),(0,a.jsxs)(u.l6,{value:Y,onValueChange:K,children:[(0,a.jsx)(u.bq,{id:"section-select",className:"w-40",children:(0,a.jsx)(u.yv,{})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"Section A",children:"Section A"}),(0,a.jsx)(u.eb,{value:"Section B",children:"Section B"}),(0,a.jsx)(u.eb,{value:"Section C",children:"Section C"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.J,{htmlFor:"quarter-select",className:"text-sm font-medium",children:"Quarter:"}),(0,a.jsxs)(u.l6,{value:ee,onValueChange:es,children:[(0,a.jsx)(u.bq,{id:"quarter-select",className:"w-32",children:(0,a.jsx)(u.yv,{})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"Q1",children:"Q1"}),(0,a.jsx)(u.eb,{value:"Q2",children:"Q2"}),(0,a.jsx)(u.eb,{value:"Q3",children:"Q3"}),(0,a.jsx)(u.eb,{value:"Q4",children:"Q4"})]})]})]}),(0,a.jsx)("div",{className:"ml-auto",children:(0,a.jsxs)(b.E,{variant:"outline",className:"text-sm",children:["Subject: ",e.subject||e.subjects||"N/A"]})})]}),(()=>{let s=e.subject||e.subjects||"Mathematics",t=el(s);return(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-blue-900 mb-2",children:["Grading System (",s,"):"]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Written Work: "}),(0,a.jsxs)("span",{className:"text-blue-700",children:[t.writtenWork,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Performance Tasks: "}),(0,a.jsxs)("span",{className:"text-blue-700",children:[t.performanceTasks,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Quarterly Assessment: "}),(0,a.jsxs)("span",{className:"text-blue-700",children:[t.quarterlyAssessment,"%"]})]})]})]})})(),(0,a.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,a.jsxs)(j.XI,{children:[(0,a.jsxs)(j.A0,{children:[(0,a.jsxs)(j.Hj,{className:"bg-red-800 text-white",children:[(0,a.jsx)(j.nd,{className:"text-white font-bold sticky left-0 bg-red-800 z-10 min-w-[150px]",children:"Student Name"}),(0,a.jsx)(j.nd,{className:"text-white font-bold sticky left-[150px] bg-red-800 z-10 min-w-[100px]",children:"Student No."}),(0,a.jsxs)(j.nd,{colSpan:5,className:"text-white font-bold text-center border-l-2 border-white",children:["Written Work (",el(e.subject||e.subjects||"Mathematics").writtenWork,"%)"]}),(0,a.jsxs)(j.nd,{colSpan:5,className:"text-white font-bold text-center border-l-2 border-white",children:["Performance Tasks (",el(e.subject||e.subjects||"Mathematics").performanceTasks,"%)"]}),(0,a.jsxs)(j.nd,{className:"text-white font-bold text-center border-l-2 border-white min-w-[120px]",children:["Quarterly Assessment (",el(e.subject||e.subjects||"Mathematics").quarterlyAssessment,"%)"]}),(0,a.jsx)(j.nd,{className:"text-white font-bold text-center border-l-2 border-white min-w-[100px]",children:"Final Grade"})]}),(0,a.jsxs)(j.Hj,{className:"bg-gray-100",children:[(0,a.jsx)(j.nd,{className:"sticky left-0 bg-gray-100 z-10"}),(0,a.jsx)(j.nd,{className:"sticky left-[150px] bg-gray-100 z-10"}),Array.from({length:5}).map((e,s)=>(0,a.jsxs)(j.nd,{className:"text-center text-xs border-l min-w-[80px]",children:["WW",s+1]},"ww-".concat(s))),Array.from({length:5}).map((e,s)=>(0,a.jsxs)(j.nd,{className:"text-center text-xs border-l min-w-[80px]",children:["PT",s+1]},"pt-".concat(s))),(0,a.jsx)(j.nd,{className:"text-center text-xs border-l"}),(0,a.jsx)(j.nd,{className:"text-center text-xs border-l"})]})]}),(0,a.jsx)(j.BF,{children:et.map(e=>(0,a.jsxs)(j.Hj,{className:"hover:bg-gray-50",children:[(0,a.jsx)(j.nA,{className:"font-medium sticky left-0 bg-white z-10 border-r",children:e.name}),(0,a.jsx)(j.nA,{className:"sticky left-[150px] bg-white z-10 border-r",children:e.studentNumber}),e.writtenWork.map((s,t)=>(0,a.jsx)(j.nA,{className:"p-0 border-l",children:(0,a.jsx)(m.p,{type:"number",min:"0",max:"100",step:"0.01",value:s,onChange:s=>eo(e.id,"writtenWork",t,s.target.value),className:"border-0 rounded-none text-center focus:ring-2 focus:ring-red-500 h-10",placeholder:"0"})},"ww-".concat(e.id,"-").concat(t))),e.performanceTasks.map((s,t)=>(0,a.jsx)(j.nA,{className:"p-0 border-l",children:(0,a.jsx)(m.p,{type:"number",min:"0",max:"100",step:"0.01",value:s,onChange:s=>eo(e.id,"performanceTasks",t,s.target.value),className:"border-0 rounded-none text-center focus:ring-2 focus:ring-red-500 h-10",placeholder:"0"})},"pt-".concat(e.id,"-").concat(t))),(0,a.jsx)(j.nA,{className:"p-0 border-l",children:(0,a.jsx)(m.p,{type:"number",min:"0",max:"100",step:"0.01",value:e.quarterlyAssessment,onChange:s=>eo(e.id,"quarterlyAssessment",null,s.target.value),className:"border-0 rounded-none text-center focus:ring-2 focus:ring-red-500 h-10",placeholder:"0"})}),(0,a.jsx)(j.nA,{className:"text-center font-bold text-red-800 border-l bg-gray-50",children:ed(e)||"-"})]},e.id))})]})}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsxs)(l.$,{onClick:()=>{if(!e||0===et.length){alert("No grades data to export.");return}let s=e.subject||e.subjects||"Mathematics",t=el(s),a=et.map(e=>{let s=ed(e);return[e.studentNumber||"",e.name||"",...e.writtenWork.map(e=>e||""),...e.performanceTasks.map(e=>e||""),e.quarterlyAssessment||"",s||""]}),r=new Blob([[["Subject: ".concat(s)],["Section: ".concat(Y)],["Quarter: ".concat(ee)],["Grading System: Written Work ".concat(t.writtenWork,"%, Performance Tasks ").concat(t.performanceTasks,"%, Quarterly Assessment ").concat(t.quarterlyAssessment,"%")],[],["Student Number","Student Name","WW1","WW2","WW3","WW4","WW5","PT1","PT2","PT3","PT4","PT5","Quarterly Assessment","Final Grade"],...a].map(e=>e.map(e=>'"'.concat(String(e).replace(/"/g,'""'),'"')).join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a"),i=URL.createObjectURL(r);c.setAttribute("href",i),c.setAttribute("download","Grades_".concat(s.replace(/\s+/g,"_"),"_").concat(Y,"_").concat(ee,"_").concat(new Date().toISOString().split("T")[0],".csv")),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)},variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-50",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Export to CSV"]}),(0,a.jsx)(l.$,{onClick:em,disabled:er,className:"bg-red-800 hover:bg-red-900",children:er?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(W.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(W.A,{className:"w-4 h-4 mr-2"}),"Save Grades"]})})]})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(f.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Please log in to manage grades."})]})})]})}),(0,a.jsx)(o.av,{value:"journal",className:"space-y-6",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.ZB,{className:"text-red-800",children:"Teaching Journal"}),(0,a.jsx)(d.BT,{children:"Record your daily teaching activities and observations"})]}),(0,a.jsxs)(g.lG,{open:G,onOpenChange:$,children:[(0,a.jsx)(g.zM,{asChild:!0,children:(0,a.jsxs)(l.$,{className:"bg-red-800 hover:bg-red-700",children:[(0,a.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"Add Entry"]})}),(0,a.jsxs)(g.Cf,{className:"max-w-2xl",children:[(0,a.jsxs)(g.c7,{children:[(0,a.jsx)(g.L3,{children:"Add Journal Entry"}),(0,a.jsx)(g.rr,{children:"Record your teaching activities for today"})]}),(0,a.jsxs)("form",{onSubmit:eu,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"date",children:"Date"}),(0,a.jsx)(m.p,{id:"date",type:"date",value:z.date,onChange:e=>I({...z,date:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"subject",children:"Subject"}),(0,a.jsxs)(u.l6,{onValueChange:e=>I({...z,subject:e}),children:[(0,a.jsx)(u.bq,{children:(0,a.jsx)(u.yv,{placeholder:"Select subject"})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"mathematics",children:"Mathematics"}),(0,a.jsx)(u.eb,{value:"science",children:"Science"}),(0,a.jsx)(u.eb,{value:"english",children:"English"}),(0,a.jsx)(u.eb,{value:"filipino",children:"Filipino"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"topic",children:"Topic/Lesson"}),(0,a.jsx)(m.p,{id:"topic",value:z.topic,onChange:e=>I({...z,topic:e.target.value}),placeholder:"Enter the lesson topic",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"activities",children:"Activities Conducted"}),(0,a.jsx)(h.T,{id:"activities",value:z.activities,onChange:e=>I({...z,activities:e.target.value}),placeholder:"Describe the activities and methods used",rows:3,required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"notes",children:"Notes & Observations"}),(0,a.jsx)(h.T,{id:"notes",value:z.notes,onChange:e=>I({...z,notes:e.target.value}),placeholder:"Student responses, challenges, improvements needed, etc.",rows:3})]}),(0,a.jsx)(l.$,{type:"submit",className:"w-full bg-red-800 hover:bg-red-700",children:"Save Entry"})]})]})]})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(p.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"No journal entries yet."}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:'Click "Add Entry" to create your first journal entry.'})]})})})]})}),(0,a.jsx)(o.av,{value:"settings",className:"space-y-6",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{className:"text-red-800",children:"Settings"}),(0,a.jsx)(d.BT,{children:"Manage your account settings and preferences"})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(E.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Settings panel will be available here."}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Configure your account preferences and notification settings."})]})})})]})}),(0,a.jsx)(o.av,{value:"logout",className:"space-y-6",children:(0,a.jsx)(d.Zp,{className:"text-center py-12",children:(0,a.jsxs)(d.Wu,{children:[(0,a.jsx)(T.A,{className:"w-16 h-16 text-red-800 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-red-800 mb-4",children:"Logout Confirmation"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to log out of the Teacher Portal?"}),(0,a.jsxs)("div",{className:"space-x-4",children:[(0,a.jsx)(l.$,{onClick:eh,className:"bg-red-800 hover:bg-red-700",children:"Yes, Log Out"}),(0,a.jsx)(l.$,{variant:"outline",onClick:()=>D("dashboard"),children:"Cancel"})]})]})})})]})})]})}},84271:(e,s,t)=>{Promise.resolve().then(t.bind(t,17354))},94870:(e,s,t)=>{"use strict";t.d(s,{T:()=>i});var a=t(91215),r=t(35591),c=t(50411);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,c.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r})});i.displayName="Textarea"}},e=>{var s=s=>e(e.s=s);e.O(0,[9141,6664,2512,4641,5004,4891,5795,9921,7403,4636,7358],()=>s(84271)),_N_E=e.O()}]);