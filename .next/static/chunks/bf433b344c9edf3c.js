(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48384,(e,t,r)=>{"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},28947,(e,t,r)=>{"use strict";var n=e.r(48384);function a(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a(function(t){e=t}),cancel:e}},t.exports=a},47311,(e,t,r)=>{"use strict";t.exports=function(e){return!!(e&&e.__CANCEL__)}},37648,(e,t,r)=>{"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},24101,(e,t,r)=>{"use strict";t.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},1350,(e,t,r)=>{"use strict";t.exports=function(e,t){return function(){for(var r=Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},37088,(e,t,r)=>{"use strict";var n=e.r(1350),a=Object.prototype.toString;function s(e){return"[object Array]"===a.call(e)}function i(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===a.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}t.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:l,isUndefined:i,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:c,isStream:function(e){return o(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function r(r,n){l(t[n])&&l(r)?t[n]=e(t[n],r):l(r)?t[n]=e({},r):s(r)?t[n]=r.slice():t[n]=r}for(var n=0,a=arguments.length;n<a;n++)d(arguments[n],r);return t},extend:function(e,t,r){return d(t,function(t,a){r&&"function"==typeof t?e[a]=n(t,r):e[a]=t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},91505,(e,t,r)=>{"use strict";var n=e.r(37088);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(e,t,r){if(!t)return e;if(r)s=r(t);else if(n.isURLSearchParams(t))s=t.toString();else{var s,i=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))}))}),s=i.join("&")}if(s){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},12657,(e,t,r)=>{"use strict";var n=e.r(37088);function a(){this.handlers=[]}a.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=a},21141,(e,t,r)=>{"use strict";var n=e.r(37088);t.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},50908,(e,t,r)=>{"use strict";t.exports=function(e,t,r,n,a){return e.config=t,r&&(e.code=r),e.request=n,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},43149,(e,t,r)=>{"use strict";var n=e.r(50908);t.exports=function(e,t,r,a,s){return n(Error(e),t,r,a,s)}},29784,(e,t,r)=>{"use strict";var n=e.r(43149);t.exports=function(e,t,r){var a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},17132,(e,t,r)=>{"use strict";var n=e.r(37088);t.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,a,s,i){var o=[];o.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),n.isString(a)&&o.push("path="+a),n.isString(s)&&o.push("domain="+s),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},93699,(e,t,r)=>{"use strict";t.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},28388,(e,t,r)=>{"use strict";t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},73597,(e,t,r)=>{"use strict";var n=e.r(93699),a=e.r(28388);t.exports=function(e,t){return e&&!n(t)?a(e,t):t}},15114,(e,t,r)=>{"use strict";var n=e.r(37088),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,r,s,i={};return e&&n.forEach(e.split("\n"),function(e){s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),r=n.trim(e.substr(s+1)),t&&(i[t]&&a.indexOf(t)>=0||("set-cookie"===t?i[t]=(i[t]?i[t]:[]).concat([r]):i[t]=i[t]?i[t]+", "+r:r))}),i}},64960,(e,t,r)=>{"use strict";var n=e.r(37088);t.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function a(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=a(window.location.href),function(t){var r=n.isString(t)?a(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},40376,(e,t,r)=>{"use strict";var n=e.r(37088),a=e.r(29784),s=e.r(17132),i=e.r(91505),o=e.r(73597),l=e.r(15114),c=e.r(64960),d=e.r(43149);t.exports=function(e){return new Promise(function(t,r){var u=e.data,h=e.headers,m=e.responseType;n.isFormData(u)&&delete h["Content-Type"];var f=new XMLHttpRequest;e.auth&&(h.Authorization="Basic "+btoa((e.auth.username||"")+":"+(e.auth.password?unescape(encodeURIComponent(e.auth.password)):"")));var p=o(e.baseURL,e.url);function x(){if(f){var n="getAllResponseHeaders"in f?l(f.getAllResponseHeaders()):null;a(t,r,{data:m&&"text"!==m&&"json"!==m?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}}if(f.open(e.method.toUpperCase(),i(p,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,"onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){!f||4!==f.readyState||(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(x)},f.onabort=function(){f&&(r(d("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){r(d("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(d(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var g=(e.withCredentials||c(p))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;g&&(h[e.xsrfHeaderName]=g)}"setRequestHeader"in f&&n.forEach(h,function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete h[t]:f.setRequestHeader(t,e)}),n.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),m&&"json"!==m&&(f.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),r(e),f=null)}),u||(u=null),f.send(u)})}},36743,(e,t,r)=>{"use strict";var n,a=e.i(44968),s=e.r(37088),i=e.r(21141),o=e.r(50908),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!s.isUndefined(e)&&s.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var d={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?n=e.r(40376):void 0!==a.default&&"[object process]"===Object.prototype.toString.call(a.default)&&(n=e.r(40376)),n),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),s.isFormData(e)||s.isArrayBuffer(e)||s.isBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e))return e;if(s.isArrayBufferView(e))return e.buffer;if(s.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();if(s.isObject(e)||t&&"application/json"===t["Content-Type"]){c(t,"application/json");if(s.isString(e))try{return(0,JSON.parse)(e),s.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}return e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||n&&s.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};d.headers={common:{Accept:"application/json, text/plain, */*"}},s.forEach(["delete","get","head"],function(e){d.headers[e]={}}),s.forEach(["post","put","patch"],function(e){d.headers[e]=s.merge(l)}),t.exports=d},15400,(e,t,r)=>{"use strict";var n=e.r(37088),a=e.r(36743);t.exports=function(e,t,r){var s=this||a;return n.forEach(r,function(r){e=r.call(s,e,t)}),e}},12817,(e,t,r)=>{"use strict";var n=e.r(37088),a=e.r(15400),s=e.r(47311),i=e.r(36743);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}t.exports=function(e){return o(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function(t){return o(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t},function(t){return!s(t)&&(o(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},49549,(e,t,r)=>{"use strict";var n=e.r(37088);t.exports=function(e,t){t=t||{};var r={},a=["url","method","data"],s=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function l(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(a){n.isUndefined(t[a])?n.isUndefined(e[a])||(r[a]=l(void 0,e[a])):r[a]=l(e[a],t[a])}n.forEach(a,function(e){n.isUndefined(t[e])||(r[e]=l(void 0,t[e]))}),n.forEach(s,c),n.forEach(i,function(a){n.isUndefined(t[a])?n.isUndefined(e[a])||(r[a]=l(void 0,e[a])):r[a]=l(void 0,t[a])}),n.forEach(o,function(n){n in t?r[n]=l(e[n],t[n]):n in e&&(r[n]=l(void 0,e[n]))});var d=a.concat(s).concat(i).concat(o),u=Object.keys(e).concat(Object.keys(t)).filter(function(e){return -1===d.indexOf(e)});return n.forEach(u,c),r}},59919,(e,t,r)=>{"use strict";var n=e.r(46268),a={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){a[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var s={},i=n.version.split(".");function o(e,t){for(var r=t?t.split("."):i,n=e.split("."),a=0;a<3;a++)if(r[a]>n[a])return!0;else if(r[a]<n[a])break;return!1}a.transitional=function(e,t,r){var a=t&&o(t);function i(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,o){if(!1===e)throw Error(i(n," has been removed in "+t));return a&&!s[n]&&(s[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,o)}},t.exports={isOlderVersion:o,assertOptions:function(e,t,r){if("object"!=typeof e)throw TypeError("options must be an object");for(var n=Object.keys(e),a=n.length;a-- >0;){var s=n[a],i=t[s];if(i){var o=e[s],l=void 0===o||i(o,s,e);if(!0!==l)throw TypeError("option "+s+" must be "+l);continue}if(!0!==r)throw Error("Unknown option "+s)}},validators:a}},36737,(e,t,r)=>{"use strict";var n=e.r(37088),a=e.r(91505),s=e.r(12657),i=e.r(12817),o=e.r(49549),l=e.r(59919),c=l.validators;function d(e){this.defaults=e,this.interceptors={request:new s,response:new s}}d.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t,r=e.transitional;void 0!==r&&l.assertOptions(r,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],a=!0;this.interceptors.request.forEach(function(t){("function"!=typeof t.runWhen||!1!==t.runWhen(e))&&(a=a&&t.synchronous,n.unshift(t.fulfilled,t.rejected))});var s=[];if(this.interceptors.response.forEach(function(e){s.push(e.fulfilled,e.rejected)}),!a){var d=[i,void 0];for(Array.prototype.unshift.apply(d,n),d=d.concat(s),t=Promise.resolve(e);d.length;)t=t.then(d.shift(),d.shift());return t}for(var u=e;n.length;){var h=n.shift(),m=n.shift();try{u=h(u)}catch(e){m(e);break}}try{t=i(u)}catch(e){return Promise.reject(e)}for(;s.length;)t=t.then(s.shift(),s.shift());return t},d.prototype.getUri=function(e){return a((e=o(this.defaults,e)).url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(e){d.prototype[e]=function(t,r){return this.request(o(r||{},{method:e,url:t,data:(r||{}).data}))}}),n.forEach(["post","put","patch"],function(e){d.prototype[e]=function(t,r,n){return this.request(o(n||{},{method:e,url:t,data:r}))}}),t.exports=d},61062,(e,t,r)=>{"use strict";var n=e.r(37088),a=e.r(1350),s=e.r(36737),i=e.r(49549);function o(e){var t=new s(e),r=a(s.prototype.request,t);return n.extend(r,s.prototype,t),n.extend(r,t),r}var l=o(e.r(36743));l.Axios=s,l.create=function(e){return o(i(l.defaults,e))},l.Cancel=e.r(48384),l.CancelToken=e.r(28947),l.isCancel=e.r(47311),l.all=function(e){return Promise.all(e)},l.spread=e.r(37648),l.isAxiosError=e.r(24101),t.exports=l,t.exports.default=l},51512,(e,t,r)=>{t.exports=e.r(61062)},96980,(e,t,r)=>{let n=e.r(51512),a=e=>n.get(`https://isaacdarcilla.github.io/philippine-addresses/${e}.json`);t.exports={regions:async()=>{try{return(await a("region")).data.map(e=>({id:e.id,psgc_code:e.psgc_code,region_name:e.region_name,region_code:e.region_code}))}catch(e){return e.message}},regionByCode:async e=>{try{return(await a("region")).data.find(({region_code:t})=>t===e)}catch(e){return e.message}},provinces:async e=>{try{return(await a("province")).data.filter(t=>t.region_code===e).map(e=>({psgc_code:e.psgc_code,province_name:e.province_name,province_code:e.province_code,region_code:e.region_code}))}catch(e){return e.message}},provincesByCode:async e=>{try{return(await a("province")).data.filter(t=>t.region_code===e).map(e=>({psgc_code:e.psgc_code,province_name:e.province_name,province_code:e.province_code,region_code:e.region_code}))}catch(e){return e.message}},provinceByName:async e=>{try{return(await a("province")).data.find(({province_name:t})=>t===e)}catch(e){return e.message}},cities:async e=>{try{return(await a("city")).data.filter(t=>t.province_code===e).map(e=>({city_name:e.city_name,city_code:e.city_code,province_code:e.province_code,region_desc:e.region_desc}))}catch(e){return e.message}},barangays:async e=>{try{return(await a("barangay")).data.filter(t=>t.city_code===e).map(e=>({brgy_name:e.brgy_name,brgy_code:e.brgy_code,province_code:e.province_code,region_code:e.region_code}))}catch(e){return e.message}}}},85714,e=>{"use strict";var t=e.i(7426),r=e.i(23750),n=e.i(10708),a=e.i(62870),s=e.i(8720);let{barangays:i}=e.r(96980);function o({value:e,onChange:o,required:l=!1}){let[c,d]=(0,s.useState)([]);return(0,s.useEffect)(()=>{i("042122").then(e=>{d(e)})},[]),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(n.Label,{children:["Barangay ",l&&"*"]}),(0,t.jsxs)(a.Select,{value:e.barangay,onValueChange:t=>{let r=c.find(e=>e.brgy_code===t);o({...e,barangay:t,barangayName:r?.brgy_name||""})},children:[(0,t.jsx)(a.SelectTrigger,{children:(0,t.jsx)(a.SelectValue,{placeholder:"Select barangay in Trece Martires City"})}),(0,t.jsx)(a.SelectContent,{children:c.map(e=>(0,t.jsx)(a.SelectItem,{value:e.brgy_code,children:e.brgy_name},e.brgy_code))})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Trece Martires City",", ","Cavite"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(n.Label,{children:["Street Details ",l&&"*"]}),(0,t.jsx)(r.Input,{value:e.streetDetails,onChange:t=>{var r;return r=t.target.value,void o({...e,streetDetails:r})},placeholder:"e.g., BLK 23 LT 20 Pacific Town"})]})]})}var l=e.i(94179),c=e.i(67881),d=e.i(70065),u=e.i(30374),h=e.i(52917),m=e.i(47627),f=e.i(84175),p=e.i(11678),x=e.i(44858),g=e.i(22024),b=e.i(4233),v=e.i(41517),j=e.i(61195),y=e.i(96623),N=e.i(21060),_=e.i(36007),S=e.i(57590);function C(){let{admin:e,loading:i}=(0,S.useAuth)(),[C,w]=(0,s.useState)([]),[E,T]=(0,s.useState)(!1),[A,L]=(0,s.useState)(""),[D,O]=(0,s.useState)(!1),[B,R]=(0,s.useState)(!1),[P,U]=(0,s.useState)(!1),[I,k]=(0,s.useState)(null),{showAlert:q}=(0,f.useAlert)(),{showConfirm:F}=(0,p.useConfirm)(),[$,H]=(0,s.useState)({first_name:"",last_name:"",middle_name:"",student_number:"",grade_level:"",section:"",email:"",phone_number:"",date_of_birth:"",address:"",rfid:""}),[M,J]=(0,s.useState)({barangay:"",barangayName:"",streetDetails:""}),[z,V]=(0,s.useState)({id:"",first_name:"",last_name:"",middle_name:"",student_number:"",grade_level:"",section:"",email:"",phone_number:"",date_of_birth:"",address:"",rfid:""}),[G,K]=(0,s.useState)({barangay:"",barangayName:"",streetDetails:""}),[X,W]=(0,s.useState)(!1),[Q,Y]=(0,s.useState)(!1),[Z,ee]=(0,s.useState)(!1),[et,er]=(0,s.useState)(""),[en,ea]=(0,s.useState)(""),es=async()=>{T(!0);try{let e=await fetch("/api/admin/students"),t=await e.json();t.success&&t.students&&w(t.students)}catch(e){console.error("Error fetching students:",e)}finally{T(!1)}};(0,s.useEffect)(()=>{es()},[]);let ei=C.filter(e=>`${e.first_name} ${e.last_name} ${e.student_number}`.toLowerCase().includes(A.toLowerCase())),eo=async e=>{e.preventDefault(),W(!0),er("");try{let e=`Student${Math.random().toString(36).slice(-8)}${Math.floor(100*Math.random())}`,t=[M.streetDetails,M.barangayName,"Trece Martires City","Cavite"].filter(Boolean).join(", "),r=await fetch("/api/admin/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...$,password:e,address:t,barangay:M.barangay,barangay_name:M.barangayName,street_details:M.streetDetails})}),n=await r.json();if(!n.success)throw Error(n.error||"Failed to add student");await es(),H({first_name:"",last_name:"",middle_name:"",student_number:"",grade_level:"",section:"",email:"",phone_number:"",date_of_birth:"",address:"",rfid:""}),J({barangay:"",barangayName:"",streetDetails:""}),O(!1),q({message:`Student added successfully!

Login Credentials:
Email: ${$.email}
Password: ${e}

Please save these credentials!`,type:"success"})}catch(e){er(e?.message||"Failed to add student.")}finally{W(!1)}},el=async e=>{e.preventDefault(),Y(!0),ea("");try{let e=[G.streetDetails,G.barangayName,"Trece Martires City","Cavite"].filter(Boolean).join(", "),t=await fetch(`/api/admin/students/${z.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...z,address:e,barangay:G.barangay,barangay_name:G.barangayName,street_details:G.streetDetails})}),r=await t.json();if(!r.success)throw Error(r.error||"Failed to update student");await es(),R(!1),q({message:"Student updated successfully!",type:"success"})}catch(e){ea(e?.message||"Failed to update student.")}finally{Y(!1)}},ec=async(e,t)=>{if(await F({message:`Are you sure you want to delete ${t}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"destructive"})){ee(!0);try{let t=await fetch(`/api/admin/students/${e}`,{method:"DELETE"}),r=await t.json();if(!r.success)throw Error(r.error||"Failed to delete student");await es(),q({message:"Student deleted successfully!",type:"success"})}catch(e){q({message:e?.message||"Failed to delete student.",type:"error"})}finally{ee(!1)}}};return i||!e?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-red-800 border-t-transparent"}),(0,t.jsx)("p",{className:"mt-4 text-red-800 font-medium",children:"Loading..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-red-50",children:[(0,t.jsx)(_.AdminHeader,{admin:e}),(0,t.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center gap-4",children:[(0,t.jsx)(N.default,{href:"/admin",children:(0,t.jsxs)(c.Button,{variant:"ghost",size:"sm",className:"hover:bg-red-50",children:[(0,t.jsx)(x.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-red-800",children:"Student Management"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage student records and information"})]}),(0,t.jsxs)(u.Dialog,{open:D,onOpenChange:O,children:[(0,t.jsx)(u.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(c.Button,{className:"bg-red-800 hover:bg-red-700",children:[(0,t.jsx)(y.UserPlus,{className:"w-4 h-4 mr-2"}),"Add Student"]})}),(0,t.jsxs)(u.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsx)(u.DialogTitle,{className:"text-red-800",children:"Add New Student"}),(0,t.jsx)(u.DialogDescription,{children:"Enter student information to create a new account"})]}),(0,t.jsxs)("form",{onSubmit:eo,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"First Name *"}),(0,t.jsx)(r.Input,{value:$.first_name,placeholder:"Enter first name",onChange:e=>H({...$,first_name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Last Name *"}),(0,t.jsx)(r.Input,{value:$.last_name,placeholder:"Enter last name",onChange:e=>H({...$,last_name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Middle Name"}),(0,t.jsx)(r.Input,{value:$.middle_name,placeholder:"Enter middle name",onChange:e=>H({...$,middle_name:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Student Number *"}),(0,t.jsx)(r.Input,{value:$.student_number,placeholder:"Enter student number",onChange:e=>H({...$,student_number:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Grade Level *"}),(0,t.jsxs)(a.Select,{value:$.grade_level,onValueChange:e=>H({...$,grade_level:e}),children:[(0,t.jsx)(a.SelectTrigger,{children:(0,t.jsx)(a.SelectValue,{placeholder:"Select grade"})}),(0,t.jsx)(a.SelectContent,{children:Array.from({length:12},(e,r)=>(0,t.jsxs)(a.SelectItem,{value:`Grade ${r+1}`,children:["Grade ",r+1]},r+1))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Section"}),(0,t.jsx)(r.Input,{value:$.section,placeholder:"Enter section",onChange:e=>H({...$,section:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Email *"}),(0,t.jsx)(r.Input,{type:"email",value:$.email,placeholder:"Enter email",onChange:e=>H({...$,email:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Phone Number"}),(0,t.jsx)(r.Input,{value:$.phone_number,placeholder:"Enter phone number",onChange:e=>H({...$,phone_number:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Date of Birth"}),(0,t.jsx)(r.Input,{type:"date",value:$.date_of_birth,placeholder:"Select date of birth",onChange:e=>H({...$,date_of_birth:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"RFID Card Number"}),(0,t.jsx)(r.Input,{value:$.rfid,onChange:e=>H({...$,rfid:e.target.value}),placeholder:"Enter RFID card number"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Address"}),(0,t.jsx)(o,{value:M,onChange:J})]}),et&&(0,t.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded",children:et}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(c.Button,{type:"button",variant:"outline",onClick:()=>O(!1),disabled:X,children:"Cancel"}),(0,t.jsx)(c.Button,{type:"submit",className:"bg-red-800 hover:bg-red-700",disabled:X,children:X?"Adding...":"Add Student"})]})]})]})]})]}),(0,t.jsx)(u.Dialog,{open:B,onOpenChange:R,children:(0,t.jsxs)(u.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsx)(u.DialogTitle,{className:"text-red-800",children:"Edit Student"}),(0,t.jsx)(u.DialogDescription,{children:"Update student information"})]}),(0,t.jsxs)("form",{onSubmit:el,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"First Name *"}),(0,t.jsx)(r.Input,{value:z.first_name,onChange:e=>V({...z,first_name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Last Name *"}),(0,t.jsx)(r.Input,{value:z.last_name,onChange:e=>V({...z,last_name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Middle Name"}),(0,t.jsx)(r.Input,{value:z.middle_name,onChange:e=>V({...z,middle_name:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Student Number *"}),(0,t.jsx)(r.Input,{value:z.student_number,onChange:e=>V({...z,student_number:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Grade Level *"}),(0,t.jsxs)(a.Select,{value:z.grade_level,onValueChange:e=>V({...z,grade_level:e}),children:[(0,t.jsx)(a.SelectTrigger,{children:(0,t.jsx)(a.SelectValue,{})}),(0,t.jsx)(a.SelectContent,{children:Array.from({length:12},(e,r)=>(0,t.jsxs)(a.SelectItem,{value:`Grade ${r+1}`,children:["Grade ",r+1]},r+1))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Section"}),(0,t.jsx)(r.Input,{value:z.section,onChange:e=>V({...z,section:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Email *"}),(0,t.jsx)(r.Input,{type:"email",value:z.email,onChange:e=>V({...z,email:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Phone Number"}),(0,t.jsx)(r.Input,{value:z.phone_number,onChange:e=>V({...z,phone_number:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Date of Birth"}),(0,t.jsx)(r.Input,{type:"date",value:z.date_of_birth,onChange:e=>V({...z,date_of_birth:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"RFID Card Number"}),(0,t.jsx)(r.Input,{value:z.rfid,onChange:e=>V({...z,rfid:e.target.value}),placeholder:"Enter RFID card number"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Address"}),(0,t.jsx)(o,{value:G,onChange:K})]}),en&&(0,t.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded",children:en}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(c.Button,{type:"button",variant:"outline",onClick:()=>R(!1),disabled:Q,children:"Cancel"}),(0,t.jsx)(c.Button,{type:"submit",className:"bg-red-800 hover:bg-red-700",disabled:Q,children:Q?"Updating...":"Update Student"})]})]})]})}),(0,t.jsx)(h.Sheet,{open:P,onOpenChange:U,children:(0,t.jsxs)(h.SheetContent,{side:"right",className:"w-full sm:max-w-lg overflow-y-auto",children:[(0,t.jsxs)(h.SheetHeader,{children:[(0,t.jsx)(h.SheetTitle,{className:"text-red-800",children:"Student Details"}),(0,t.jsx)(h.SheetDescription,{children:"View complete student information"})]}),I&&(0,t.jsx)("div",{className:"space-y-6 mt-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"pb-3 border-b",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),(0,t.jsx)("p",{className:"text-base font-semibold",children:`${I.first_name} ${I.middle_name||""} ${I.last_name}`.trim()})]}),(0,t.jsxs)("div",{className:"pb-3 border-b",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Student Number"}),(0,t.jsx)("p",{className:"text-base font-mono",children:I.student_number})]}),(0,t.jsxs)("div",{className:"pb-3 border-b",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Grade Level"}),(0,t.jsx)("p",{className:"text-base",children:I.grade_level})]}),(0,t.jsxs)("div",{className:"pb-3 border-b",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Section"}),(0,t.jsx)("p",{className:"text-base",children:I.section||"N/A"})]}),(0,t.jsxs)("div",{className:"pb-3 border-b",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Email"}),(0,t.jsx)("p",{className:"text-base",children:I.email})]}),(0,t.jsxs)("div",{className:"pb-3 border-b",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Phone Number"}),(0,t.jsx)("p",{className:"text-base",children:I.phone_number||"N/A"})]}),(0,t.jsxs)("div",{className:"pb-3 border-b",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date of Birth"}),(0,t.jsx)("p",{className:"text-base",children:I.date_of_birth||"N/A"})]}),(0,t.jsxs)("div",{className:"pb-3 border-b",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"RFID Card"}),I.rfid?(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(l.Badge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Assigned"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 font-mono",children:I.rfid})]}):(0,t.jsx)(l.Badge,{variant:"outline",className:"bg-gray-50 text-gray-600",children:"Not Assigned"})]}),(0,t.jsxs)("div",{className:"pb-3 border-b",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),(0,t.jsx)(l.Badge,{className:"bg-green-100 text-green-800",children:I.status})]}),(0,t.jsxs)("div",{className:"pb-3 border-b",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Address"}),(0,t.jsx)("p",{className:"text-base",children:I.address||"N/A"})]})]})})]})}),(0,t.jsxs)(d.Card,{className:"shadow-md",children:[(0,t.jsx)(d.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(d.CardTitle,{className:"text-red-800",children:["All Students (",ei.length,")"]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(v.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,t.jsx)(r.Input,{placeholder:"Search students...",className:"pl-10 w-64",value:A,onChange:e=>L(e.target.value)})]})})]})}),(0,t.jsx)(d.CardContent,{children:E?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-800 mx-auto"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Loading students..."})]}):(0,t.jsxs)(m.Table,{children:[(0,t.jsx)(m.TableHeader,{children:(0,t.jsxs)(m.TableRow,{children:[(0,t.jsx)(m.TableHead,{children:"Student Number"}),(0,t.jsx)(m.TableHead,{children:"Name"}),(0,t.jsx)(m.TableHead,{children:"Grade Level"}),(0,t.jsx)(m.TableHead,{children:"Section"}),(0,t.jsx)(m.TableHead,{children:"RFID"}),(0,t.jsx)(m.TableHead,{children:"Email"}),(0,t.jsx)(m.TableHead,{children:"Status"}),(0,t.jsx)(m.TableHead,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(m.TableBody,{children:ei.length>0?ei.map(e=>(0,t.jsxs)(m.TableRow,{children:[(0,t.jsx)(m.TableCell,{className:"font-medium",children:e.student_number}),(0,t.jsx)(m.TableCell,{children:`${e.first_name} ${e.last_name}`}),(0,t.jsx)(m.TableCell,{children:e.grade_level}),(0,t.jsx)(m.TableCell,{children:e.section||"N/A"}),(0,t.jsx)(m.TableCell,{children:e.rfid?(0,t.jsx)(l.Badge,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:e.rfid}):(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Not assigned"})}),(0,t.jsx)(m.TableCell,{children:e.email}),(0,t.jsx)(m.TableCell,{children:(0,t.jsx)(l.Badge,{className:"bg-green-100 text-green-800",children:e.status||"Active"})}),(0,t.jsx)(m.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(c.Button,{variant:"outline",size:"sm",onClick:()=>{k(e),U(!0)},children:(0,t.jsx)(b.Eye,{className:"w-4 h-4"})}),(0,t.jsx)(c.Button,{variant:"outline",size:"sm",onClick:()=>{V({id:e.id,first_name:e.first_name,last_name:e.last_name,middle_name:e.middle_name||"",student_number:e.student_number,grade_level:e.grade_level,section:e.section||"",email:e.email,phone_number:e.phone_number||"",date_of_birth:e.date_of_birth||"",address:e.address||"",rfid:e.rfid||""}),K({barangay:e.barangay||"",barangayName:e.barangay_name||"",streetDetails:e.street_details||""}),R(!0)},children:(0,t.jsx)(g.Edit,{className:"w-4 h-4"})}),(0,t.jsx)(c.Button,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>ec(e.id,`${e.first_name} ${e.last_name}`),disabled:Z,children:(0,t.jsx)(j.Trash2,{className:"w-4 h-4"})})]})})]},e.id)):(0,t.jsx)(m.TableRow,{children:(0,t.jsx)(m.TableCell,{colSpan:8,className:"text-center text-gray-500 py-8",children:"No students found"})})})]})})]})]})]})}e.s(["default",()=>C],85714)}]);