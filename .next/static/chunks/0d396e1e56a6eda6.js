(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23261,e=>{"use strict";var s=e.i(7426),a=e.i(94179),t=e.i(67881),r=e.i(70065),l=e.i(30374),n=e.i(23750),d=e.i(10708),i=e.i(62870),c=e.i(47627),o=e.i(27341),m=e.i(53210),x=e.i(11041);let h=(0,x.default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var u=e.i(44057);let j=(0,x.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var g=e.i(3881),p=e.i(66662);let f=(0,x.default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var N=e.i(74961),b=e.i(21582),v=e.i(95719),y=e.i(81362),w=e.i(4543),S=e.i(53607);let C=(0,x.default)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);var T=e.i(76489),I=e.i(67587),A=e.i(92486);let D=(0,x.default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var R=e.i(66542);let L=(0,x.default)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);var F=e.i(12313),_=e.i(21060),k=e.i(8720);let P={schoolName:"Sto Niño de Praga Academy",academicYear:"2024-2025",automaticBackup:!0,rfidIntegration:!0,emailNotifications:!0,studentPortal:!0,teacherPortal:!0},G=["All Grades","Grade 1","Grade 2","Grade 3","Grade 4","Grade 5","Grade 6","Grade 7","Grade 8","Grade 9","Grade 10","Grade 11","Grade 12"],E=["Enrolled","Pending","Alumni","Inactive"];function H(){var e,x;let[H,B]=(0,k.useState)(null),[M,O]=(0,k.useState)(!0),[$,U]=(0,k.useState)(""),[V,q]=(0,k.useState)(""),[z,J]=(0,k.useState)(null),[Y,W]=(0,k.useState)(!1),[K,Q]=(0,k.useState)("dashboard"),[X,Z]=(0,k.useState)(!1),[ee,es]=(0,k.useState)(!1),[ea,et]=(0,k.useState)(null),[er,el]=(0,k.useState)({first_name:"",last_name:"",middle_name:"",student_number:"",grade_level:"",section:"",email:"",phone_number:""}),[en,ed]=(0,k.useState)({totalStudents:0,totalTeachers:0,attendanceRate:0}),[ei,ec]=(0,k.useState)([]),[eo,em]=(0,k.useState)(!1),[ex,eh]=(0,k.useState)(!1),[eu,ej]=(0,k.useState)(null),[eg,ep]=(0,k.useState)(!1),[ef,eN]=(0,k.useState)(null),[eb,ev]=(0,k.useState)({search:"",grade:"All Grades",status:"all"}),[ey,ew]=(0,k.useState)(null),[eS,eC]=(0,k.useState)(P),[eT,eI]=(0,k.useState)(!1),[eA,eD]=(0,k.useState)(!1),[eR,eL]=(0,k.useState)(null),[eF,e_]=(0,k.useState)([]),[ek,eP]=(0,k.useState)(!1),[eG,eE]=(0,k.useState)(null),[eH,eB]=(0,k.useState)(!1),[eM,eO]=(0,k.useState)(null),[e$,eU]=(0,k.useState)(""),[eV,eq]=(0,k.useState)(!1),[ez,eJ]=(0,k.useState)(null),eY=(0,k.useMemo)(()=>ei.filter(e=>{let s=`${e.first_name||""} ${e.middle_name||""} ${e.last_name||""}`.trim(),a=0===eb.search.trim().length||`${s} ${e.student_number}`.toLowerCase().includes(eb.search.toLowerCase()),t="All Grades"===eb.grade||e.grade_level?.toLowerCase()===eb.grade.toLowerCase(),r="all"===eb.status||(e.status||"Active").toLowerCase()===eb.status.toLowerCase();return a&&t&&r}),[ei,eb]),eW=async()=>{em(!0);try{let e=await fetch("/api/admin/stats"),s=await e.json();s.success&&s.data&&ed(s.data)}catch(e){console.error("Error fetching stats:",e)}finally{em(!1)}},eK=async()=>{eh(!0);try{let e=await fetch("/api/admin/students"),s=await e.json();s.success&&s.students&&ec(s.students)}catch(e){console.error("Error fetching students:",e)}finally{eh(!1)}},eQ=async()=>{ep(!0),eN(null);try{let e=await fetch("/api/admin/attendance"),s=e.headers.get("content-type");if(!s||!s.includes("application/json")){let s=await e.text();throw console.error("Non-JSON response:",s.substring(0,200)),Error("Server returned an invalid response. Please check the API endpoint.")}let a=await e.json();if(!e.ok||!a.success)throw Error(a.error||"Failed to load attendance data.");ej(a.data)}catch(e){console.error("Error fetching attendance:",e),e?.message?.includes("JSON")||e?.message?.includes("DOCTYPE")?eN("Unable to connect to attendance service. Please check if the server is running."):eN(e?.message||"Unable to load attendance data.")}finally{ep(!1)}},eX=async()=>{eI(!0),eL(null);try{let e=await fetch("/api/admin/settings"),s=e.headers.get("content-type");if(!s||!s.includes("application/json")){let s=await e.text();throw Error(`Invalid response format: ${s.substring(0,100)}`)}let a=await e.json();if(!e.ok||!a.success)throw Error(a.error||"Failed to load settings.");eC(a.settings)}catch(e){console.error("Error fetching settings:",e),eL(e?.message||"Unable to load settings.")}finally{eI(!1)}},eZ=async()=>{eD(!0),eL(null);try{let e=await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(eS)}),s=await e.json();if(!e.ok||!s.success)throw Error(s.error||"Failed to save settings.");eC(s.settings),eL("Settings saved successfully.")}catch(e){console.error("Error saving settings:",e),eL(e?.message||"Unable to save settings.")}finally{eD(!1)}};(0,k.useEffect)(()=>{let e=localStorage.getItem("admin");if(e)try{let s=JSON.parse(e);B(s)}catch(e){console.error("Error parsing stored admin data:",e),localStorage.removeItem("admin")}O(!1)},[]),(0,k.useEffect)(()=>{H&&Promise.all([eW().catch(e=>console.error("Error in fetchStats:",e)),eK().catch(e=>console.error("Error in fetchStudents:",e)),eQ().catch(e=>console.error("Error in fetchAttendance:",e)),eX().catch(e=>console.error("Error in fetchSettings:",e))])},[H]),(0,k.useEffect)(()=>{!H||"attendance"!==K||eu||eg||eQ().catch(e=>console.error("Error in fetchAttendance:",e))},[K]),(0,k.useEffect)(()=>{H&&"students"===K&&!ex&&eK().catch(e=>console.error("Error in fetchStudents:",e))},[K]);let e0=async()=>{eP(!0),eE(null);try{let e=await fetch("/api/admin/attendance-live?limit=100");if(!e.ok){let s="Server error";try{let a=e.headers.get("content-type");if(a&&a.includes("application/json")){let a=await e.json();s=a.error||a.message||`HTTP ${e.status}`}else s=`HTTP ${e.status}: ${e.statusText}`}catch{s=`HTTP ${e.status}: ${e.statusText}`}throw Error(s)}let s=e.headers.get("content-type");if(!s||!s.includes("application/json")){let s=await e.text();throw console.error("Non-JSON response received:",s.substring(0,200)),Error(`Invalid response format: ${s.substring(0,100)}`)}let a=await e.json();a.success&&a.records?(e_(a.records),eE(null)):(eE(a.error||a.warning||"Failed to load RFID scans."),a.records&&e_(a.records))}catch(e){console.error("Error fetching RFID scans:",e),eE(e?.message||"Unable to load RFID scans.")}finally{eP(!1)}};(0,k.useEffect)(()=>{if(H&&"rfid-scans"===K){e0().catch(e=>console.error("Error in fetchRfidScans:",e));let e=setInterval(()=>{e0().catch(e=>console.error("Error in fetchRfidScans:",e))},5e3);return()=>clearInterval(e)}},[K,H]);let e1=async e=>{if(e.preventDefault(),eJ(null),!e$.trim())return void eJ("RFID card number is required.");if(!eM)return void eJ("No student selected.");eq(!0);try{let e=await fetch("/api/students/update-rfid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:eM.email,rfidCard:e$.trim()})}),s=await e.json();s.success?(alert("RFID card updated successfully!"),eB(!1),eU(""),eO(null),eJ(null),eK()):eJ(s.error||"Failed to update RFID card. Please try again.")}catch(e){console.error("Update RFID error:",e),eJ("Error updating RFID card. Please try again.")}finally{eq(!1)}},e2=async e=>{e.preventDefault(),W(!0),J(null);try{let e=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:$,password:V})});if(!e.ok){let s=await e.json().catch(()=>({error:"Network error occurred"}));J(s.error||`Server error (${e.status}). Please try again.`);return}let s=await e.json();s.success&&s.admin?(B(s.admin),localStorage.setItem("admin",JSON.stringify(s.admin)),U(""),q(""),J(null)):J(s.error||"Login failed. Please check your credentials.")}catch(s){console.error("Login error:",s);let e=s?.message||String(s)||"";e&&(e.includes("fetch")||e.includes("network"))?J("Network error. Please check your internet connection and try again."):e&&e.includes("Failed to fetch")?J("Cannot connect to the server. Please make sure the server is running."):J(`An error occurred: ${e||"Please try again."}`)}finally{W(!1)}},e4=async()=>{confirm("Are you sure you want to log out?")&&(await m.supabase.auth.signOut(),localStorage.removeItem("admin"),B(null),window.location.href="/")},e8=async()=>{try{let e=await fetch("/api/admin/students"),s=await e.json();if(s.success&&s.students&&s.students.length>0){let e=s.students.map(e=>{let s=(e.student_number||"").match(/\d+/);return s?parseInt(s[0]):0}).filter(e=>e>0),a=e.length>0?Math.max(...e):0,t=new Date().getFullYear();return`${t}-${String(a+1).padStart(3,"0")}`}}catch(e){console.error("Error fetching students for ID generation:",e)}let e=new Date().getFullYear();return`${e}-001`},e6=async e=>{if(e.preventDefault(),ew(null),!er.first_name.trim()||!er.last_name.trim()||!er.section.trim())return void ew("First Name, Last Name, and Section are required.");if(!er.grade_level)return void ew("Please select a grade level.");let s=await e8(),a=(()=>{let e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s="";for(let a=0;a<8;a++)s+=e.charAt(Math.floor(Math.random()*e.length));return s})();try{let e=await fetch("/api/admin/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:er.first_name,last_name:er.last_name,middle_name:er.middle_name||null,student_number:s,grade_level:er.grade_level,section:er.section,email:er.email,phone_number:er.phone_number||null,password:a})}),t=await e.json();t.success?(et({student_number:s,username:s,password:a,first_name:er.first_name,last_name:er.last_name}),Z(!1),es(!0),el({first_name:"",last_name:"",middle_name:"",student_number:"",grade_level:"",section:"",email:"",phone_number:""}),ew(null),eK(),eW()):alert(t.error||"Failed to add student. Please try again.")}catch(e){console.error("Add student error:",e),alert("Error adding student. Please try again.")}},e5=(e,s)=>{ev(a=>({...a,[e]:s}))},e3=(e,s)=>{eC(a=>({...a,[e]:s}))};return M?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("div",{className:"text-xl font-bold text-red-800",children:"Loading..."})})}):H?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-md border-b-4 border-red-800",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(F.default,{src:"/logo.png",alt:"Sto Niño de Praga Academy Logo",width:60,height:60,className:"rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-red-800",children:"Admin Portal"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Sto Niño de Praga Academy"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(_.default,{href:"/",children:(0,s.jsxs)(t.Button,{variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white bg-transparent",children:[(0,s.jsx)(v.Home,{className:"w-4 h-4 mr-2"}),"Home"]})}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"font-medium text-red-800",children:H.name||H.first_name||H.email||"Admin User"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"System Administrator"})]}),(0,s.jsx)(t.Button,{onClick:e4,variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white bg-transparent",children:"Logout"})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)(o.Tabs,{value:K,onValueChange:Q,className:"w-full",children:[(0,s.jsxs)(o.TabsList,{className:"grid w-full grid-cols-6 mb-8",children:[(0,s.jsxs)(o.TabsTrigger,{value:"dashboard",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(y.LayoutDashboard,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),(0,s.jsxs)(o.TabsTrigger,{value:"attendance",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(p.Clock,{className:"w-4 h-4 mr-2"}),"Attendance & RFID"]}),(0,s.jsxs)(o.TabsTrigger,{value:"rfid-scans",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(T.Radio,{className:"w-4 h-4 mr-2"}),"RFID Scans"]}),(0,s.jsxs)(o.TabsTrigger,{value:"students",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(R.Users,{className:"w-4 h-4 mr-2"}),"Student Management"]}),(0,s.jsxs)(o.TabsTrigger,{value:"reports",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(j,{className:"w-4 h-4 mr-2"}),"Reports & Analytics"]}),(0,s.jsxs)(o.TabsTrigger,{value:"settings",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,s.jsx)(A.Settings,{className:"w-4 h-4 mr-2"}),"System Settings"]})]}),(0,s.jsxs)(o.TabsContent,{value:"dashboard",className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)(r.Card,{className:"border-red-200",children:[(0,s.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.CardTitle,{className:"text-sm font-medium text-red-800",children:"Total Students"}),(0,s.jsx)(R.Users,{className:"h-4 w-4 text-red-600"})]}),(0,s.jsxs)(r.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-red-800",children:eo?"...":en.totalStudents.toLocaleString()}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"All grade levels"})]})]}),(0,s.jsxs)(r.Card,{className:"border-red-200",children:[(0,s.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.CardTitle,{className:"text-sm font-medium text-red-800",children:"Total Teachers"}),(0,s.jsx)(D,{className:"h-4 w-4 text-red-600"})]}),(0,s.jsxs)(r.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-red-800",children:eo?"...":en.totalTeachers.toLocaleString()}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Active teachers"})]})]}),(0,s.jsxs)(r.Card,{className:"border-red-200",children:[(0,s.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.CardTitle,{className:"text-sm font-medium text-red-800",children:"Monthly Revenue"}),(0,s.jsx)(f,{className:"h-4 w-4 text-red-600"})]}),(0,s.jsxs)(r.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-red-800",children:"₱2.4M"}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"This month"})]})]}),(0,s.jsxs)(r.Card,{className:"border-red-200",children:[(0,s.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(r.CardTitle,{className:"text-sm font-medium text-red-800",children:"Attendance Rate"}),(0,s.jsx)(g.Calendar,{className:"h-4 w-4 text-red-600"})]}),(0,s.jsxs)(r.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-red-800",children:"94.2%"}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Overall average"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsx)(r.CardTitle,{className:"text-red-800",children:"Recent Activities"})}),(0,s.jsx)(r.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(D,{className:"w-4 h-4 text-blue-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"New teacher registered"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Maria Santos - Mathematics"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(R.Users,{className:"w-4 h-4 text-green-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"Student enrollment completed"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"25 new students for Grade 7"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(N.FileText,{className:"w-4 h-4 text-purple-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"Monthly report generated"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Academic performance summary"})]})]})]})})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsx)(r.CardTitle,{className:"text-red-800",children:"System Status"})}),(0,s.jsx)(r.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm",children:"RFID System"}),(0,s.jsx)(a.Badge,{className:"bg-green-100 text-green-800",children:"Online"})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm",children:"Student Portal"}),(0,s.jsx)(a.Badge,{className:"bg-green-100 text-green-800",children:"Running"})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm",children:"Teacher Portal"}),(0,s.jsx)(a.Badge,{className:"bg-green-100 text-green-800",children:"Active"})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm",children:"Database Backup"}),(0,s.jsx)(a.Badge,{className:"bg-blue-100 text-blue-800",children:"Scheduled"})]})]})})]})]})]}),(0,s.jsx)(o.TabsContent,{value:"attendance",className:"space-y-6",children:(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.CardTitle,{className:"text-red-800",children:"Attendance and RFID Management"}),(0,s.jsx)(r.CardDescription,{children:"Monitor attendance records and RFID system"})]}),(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:eQ,disabled:eg,className:"flex items-center gap-2",children:[(0,s.jsx)(I.RefreshCcw,{className:`w-4 h-4 ${eg?"animate-spin":""}`}),"Refresh"]})]}),ef&&(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-red-700 bg-red-50 border border-red-100 rounded-md p-3 mt-3",children:[(0,s.jsx)(u.AlertCircle,{className:"w-4 h-4 mt-0.5"}),(0,s.jsx)("span",{children:ef})]})]}),(0,s.jsx)(r.CardContent,{children:eg?(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading attendance data..."}):eu?(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h4",{className:"font-medium",children:"Today's Attendance"}),(0,s.jsxs)(a.Badge,{variant:"outline",className:"text-green-700 border-green-200",children:["Updated ",eu.summary.lastSync]})]}),(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Students Present"}),(0,s.jsxs)("span",{className:"font-semibold",children:[eu.summary.presentStudents.toLocaleString()," /"," ",eu.summary.totalStudents.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Teachers Present"}),(0,s.jsxs)("span",{className:"font-semibold",children:[eu.summary.presentTeachers.toLocaleString()," /"," ",eu.summary.totalTeachers.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-green-700",children:[(0,s.jsx)("span",{children:"Overall Rate"}),(0,s.jsxs)("span",{className:"font-semibold",children:[(e=eu.summary.presentStudents+eu.summary.presentTeachers,(x=eu.summary.totalStudents+eu.summary.totalTeachers)?(e/x*100).toFixed(1):"0.0"),"%"]})]})]})]}),(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h4",{className:"font-medium flex items-center gap-2",children:[(0,s.jsx)(L,{className:"w-4 h-4 text-red-700"}),"RFID System Status"]}),(0,s.jsx)(a.Badge,{className:`${"online"===eu.rfid.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:"online"===eu.rfid.status?"Online":"Degraded"})]}),(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Active Cards"}),(0,s.jsx)("span",{className:"font-semibold",children:eu.rfid.activeCards.toLocaleString()})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Pending Activations"}),(0,s.jsx)("span",{className:"font-semibold",children:eu.rfid.pendingActivations})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Offline Readers"}),(0,s.jsx)("span",{className:`font-semibold ${eu.rfid.offlineReaders>0?"text-red-600":"text-green-700"}`,children:eu.rfid.offlineReaders})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[(0,s.jsx)(h,{className:"w-4 h-4 text-red-700"}),"System Alerts"]}),eu.recentAlerts&&0!==eu.recentAlerts.length?(0,s.jsx)("div",{className:"space-y-3",children:eu.recentAlerts.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between border border-gray-100 rounded-lg p-3 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.AlertCircle,{className:`w-4 h-4 ${"warning"===e.type?"text-yellow-600":"error"===e.type?"text-red-600":"text-blue-600"}`}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.message}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Logged at ",e.timestamp]})]})]}),(0,s.jsx)(a.Badge,{variant:"outline",className:"border-gray-200",children:"RFID"})]},e.id))}):(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"No alerts today."})]})]}):(0,s.jsx)("div",{className:"text-center text-gray-500 py-8",children:"Attendance data unavailable. Please refresh."})})]})}),(0,s.jsx)(o.TabsContent,{value:"rfid-scans",className:"space-y-6",children:(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.CardTitle,{className:"text-red-800",children:"RFID Scan Records"}),(0,s.jsx)(r.CardDescription,{children:"View real-time RFID card scans and attendance records"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:()=>window.open("/admin/rfid-display","_blank"),className:"flex items-center gap-2",children:[(0,s.jsx)(C,{className:"w-4 h-4"}),"Open in New Window"]}),(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:e0,disabled:ek,className:"flex items-center gap-2",children:[(0,s.jsx)(I.RefreshCcw,{className:`w-4 h-4 ${ek?"animate-spin":""}`}),"Refresh"]})]})]}),eG&&(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-red-700 bg-red-50 border border-red-100 rounded-md p-3 mt-3",children:[(0,s.jsx)(u.AlertCircle,{className:"w-4 h-4 mt-0.5"}),(0,s.jsx)("span",{children:eG})]})]}),(0,s.jsx)(r.CardContent,{children:ek&&0===eF.length?(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading RFID scans..."}):0===eF.length?(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No RFID scans found. Scans will appear here when students scan their cards."}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:["Showing ",eF.length," recent scans (auto-refreshes every 5 seconds)"]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(c.Table,{children:[(0,s.jsx)(c.TableHeader,{children:(0,s.jsxs)(c.TableRow,{children:[(0,s.jsx)(c.TableHead,{children:"Time"}),(0,s.jsx)(c.TableHead,{children:"Student Name"}),(0,s.jsx)(c.TableHead,{children:"Student ID"}),(0,s.jsx)(c.TableHead,{children:"Grade Level"}),(0,s.jsx)(c.TableHead,{children:"Section"}),(0,s.jsx)(c.TableHead,{children:"RFID Card"}),(0,s.jsx)(c.TableHead,{children:"Status"})]})}),(0,s.jsx)(c.TableBody,{children:eF.map(e=>(0,s.jsxs)(c.TableRow,{children:[(0,s.jsx)(c.TableCell,{className:"font-mono text-sm",children:new Date(e.scanTime).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),(0,s.jsx)(c.TableCell,{className:"font-medium",children:e.studentName}),(0,s.jsx)(c.TableCell,{className:"font-mono text-sm",children:e.studentId||"N/A"}),(0,s.jsx)(c.TableCell,{children:e.gradeLevel}),(0,s.jsx)(c.TableCell,{children:e.section}),(0,s.jsx)(c.TableCell,{className:"font-mono text-sm",children:e.rfidCard}),(0,s.jsx)(c.TableCell,{children:(0,s.jsx)(a.Badge,{className:"Present"===e.status?"bg-green-100 text-green-800":"Late"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:e.status})})]},e.id))})]})})]})})]})}),(0,s.jsx)(o.TabsContent,{value:"students",className:"space-y-6",children:(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{className:"text-red-800",children:"Student Management"}),(0,s.jsx)(r.CardDescription,{children:"Manage student records, enrollment, and academic information"})]}),(0,s.jsx)(r.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h4",{className:"font-medium",children:"Student Records"}),(0,s.jsxs)(l.Dialog,{open:X,onOpenChange:Z,children:[(0,s.jsx)(l.DialogTrigger,{asChild:!0,children:(0,s.jsx)(t.Button,{className:"bg-red-800 hover:bg-red-700",children:"Add New Student"})}),(0,s.jsxs)(l.DialogContent,{className:"sm:max-w-md",children:[(0,s.jsxs)(l.DialogHeader,{children:[(0,s.jsx)(l.DialogTitle,{className:"text-red-800",children:"Add New Student"}),(0,s.jsx)(l.DialogDescription,{children:"Enter the student's information to add them to the system"})]}),(0,s.jsxs)("form",{onSubmit:e6,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"firstName",children:"First Name *"}),(0,s.jsx)(n.Input,{id:"firstName",value:er.first_name,onChange:e=>el({...er,first_name:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"lastName",children:"Last Name *"}),(0,s.jsx)(n.Input,{id:"lastName",value:er.last_name,onChange:e=>el({...er,last_name:e.target.value}),required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"middleName",children:"Middle Name"}),(0,s.jsx)(n.Input,{id:"middleName",value:er.middle_name,onChange:e=>el({...er,middle_name:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"studentNumber",children:"Student Number *"}),(0,s.jsx)(n.Input,{id:"studentNumber",value:er.student_number,disabled:!0,readOnly:!0,className:"bg-gray-100 cursor-not-allowed",placeholder:"Will be auto-generated"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated upon submission"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"gradeLevel",children:"Grade Level *"}),(0,s.jsxs)(i.Select,{value:er.grade_level,onValueChange:e=>el({...er,grade_level:e}),children:[(0,s.jsx)(i.SelectTrigger,{children:(0,s.jsx)(i.SelectValue,{placeholder:"Select grade"})}),(0,s.jsxs)(i.SelectContent,{children:[(0,s.jsx)(i.SelectItem,{value:"Grade 1",children:"Grade 1"}),(0,s.jsx)(i.SelectItem,{value:"Grade 2",children:"Grade 2"}),(0,s.jsx)(i.SelectItem,{value:"Grade 3",children:"Grade 3"}),(0,s.jsx)(i.SelectItem,{value:"Grade 4",children:"Grade 4"}),(0,s.jsx)(i.SelectItem,{value:"Grade 5",children:"Grade 5"}),(0,s.jsx)(i.SelectItem,{value:"Grade 6",children:"Grade 6"}),(0,s.jsx)(i.SelectItem,{value:"Grade 7",children:"Grade 7"}),(0,s.jsx)(i.SelectItem,{value:"Grade 8",children:"Grade 8"}),(0,s.jsx)(i.SelectItem,{value:"Grade 9",children:"Grade 9"}),(0,s.jsx)(i.SelectItem,{value:"Grade 10",children:"Grade 10"}),(0,s.jsx)(i.SelectItem,{value:"Grade 11",children:"Grade 11"}),(0,s.jsx)(i.SelectItem,{value:"Grade 12",children:"Grade 12"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"section",children:"Section *"}),(0,s.jsx)(n.Input,{id:"section",value:er.section,onChange:e=>el({...er,section:e.target.value}),required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"email",children:"Email"}),(0,s.jsx)(n.Input,{id:"email",type:"email",value:er.email,onChange:e=>el({...er,email:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"phone",children:"Phone Number"}),(0,s.jsx)(n.Input,{id:"phone",type:"tel",value:er.phone_number,onChange:e=>el({...er,phone_number:e.target.value})})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[ey&&(0,s.jsx)("p",{className:"text-sm text-red-600 flex-1",children:ey}),(0,s.jsx)(t.Button,{type:"button",variant:"outline",onClick:()=>Z(!1),children:"Cancel"}),(0,s.jsx)(t.Button,{type:"submit",className:"bg-red-800 hover:bg-red-700",children:"Add Student"})]})]})]})]}),(0,s.jsx)(l.Dialog,{open:ee,onOpenChange:es,children:(0,s.jsxs)(l.DialogContent,{className:"sm:max-w-md",children:[(0,s.jsxs)(l.DialogHeader,{children:[(0,s.jsx)(l.DialogTitle,{className:"text-red-800",children:"Student Registration Successful"}),(0,s.jsx)(l.DialogDescription,{children:"Please provide these login credentials to the student. They will be required to change their password on first login."})]}),ea&&(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{className:"text-sm text-gray-600",children:"Student Name"}),(0,s.jsxs)("p",{className:"font-semibold text-lg",children:[ea.first_name," ",ea.last_name]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{className:"text-sm text-gray-600",children:"Student ID / Username"}),(0,s.jsx)("p",{className:"font-mono font-semibold text-lg bg-white p-2 rounded border",children:ea.username})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{className:"text-sm text-gray-600",children:"Temporary Password"}),(0,s.jsx)("p",{className:"font-mono font-semibold text-lg bg-white p-2 rounded border text-red-600",children:ea.password})]}),(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 mt-4",children:(0,s.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,s.jsx)("strong",{children:"Important:"})," The student must change their password and complete their profile on first login."]})})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(t.Button,{onClick:()=>{es(!1),et(null)},className:"bg-red-800 hover:bg-red-700",children:"Close"})})]})]})})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(b.Filter,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Filter records"})]}),(0,s.jsx)(n.Input,{placeholder:"Search by name or ID",value:eb.search,onChange:e=>e5("search",e.target.value),className:"w-full md:w-1/3"}),(0,s.jsxs)(i.Select,{value:eb.grade,onValueChange:e=>e5("grade",e),children:[(0,s.jsx)(i.SelectTrigger,{className:"w-full md:w-48",children:(0,s.jsx)(i.SelectValue,{placeholder:"Grade level"})}),(0,s.jsx)(i.SelectContent,{children:G.map(e=>(0,s.jsx)(i.SelectItem,{value:e,children:e},e))})]}),(0,s.jsxs)(i.Select,{value:eb.status,onValueChange:e=>e5("status",e),children:[(0,s.jsx)(i.SelectTrigger,{className:"w-full md:w-48",children:(0,s.jsx)(i.SelectValue,{placeholder:"Status"})}),(0,s.jsxs)(i.SelectContent,{children:[(0,s.jsx)(i.SelectItem,{value:"all",children:"All Statuses"}),E.map(e=>(0,s.jsx)(i.SelectItem,{value:e.toLowerCase(),children:e},e))]})]})]}),(0,s.jsxs)(c.Table,{children:[(0,s.jsx)(c.TableHeader,{children:(0,s.jsxs)(c.TableRow,{children:[(0,s.jsx)(c.TableHead,{children:"Student ID"}),(0,s.jsx)(c.TableHead,{children:"Name"}),(0,s.jsx)(c.TableHead,{children:"Grade Level"}),(0,s.jsx)(c.TableHead,{children:"Section"}),(0,s.jsx)(c.TableHead,{children:"RFID Card"}),(0,s.jsx)(c.TableHead,{children:"Status"}),(0,s.jsx)(c.TableHead,{children:"Actions"})]})}),(0,s.jsx)(c.TableBody,{children:ex?(0,s.jsx)(c.TableRow,{children:(0,s.jsx)(c.TableCell,{colSpan:7,className:"text-center text-gray-500",children:"Loading students..."})}):0===eY.length?(0,s.jsx)(c.TableRow,{children:(0,s.jsx)(c.TableCell,{colSpan:7,className:"text-center text-gray-500",children:"No students match the current filters."})}):eY.map(e=>(0,s.jsxs)(c.TableRow,{children:[(0,s.jsx)(c.TableCell,{children:e.student_number||"N/A"}),(0,s.jsx)(c.TableCell,{children:`${e.first_name||""} ${e.middle_name||""} ${e.last_name||""}`.trim()||"N/A"}),(0,s.jsx)(c.TableCell,{children:e.grade_level||"N/A"}),(0,s.jsx)(c.TableCell,{children:e.section||"N/A"}),(0,s.jsx)(c.TableCell,{className:"font-mono text-sm",children:e.rfid||(0,s.jsx)("span",{className:"text-gray-400 italic",children:"Not assigned"})}),(0,s.jsx)(c.TableCell,{children:(0,s.jsxs)(i.Select,{value:(e.status||"Enrolled").toLowerCase(),onValueChange:s=>{var a;let t;return a=e.id,t=s.charAt(0).toUpperCase()+s.slice(1),void ec(e=>e.map(e=>e.id===a?{...e,status:t}:e))},children:[(0,s.jsx)(i.SelectTrigger,{className:"w-32 text-xs",children:(0,s.jsx)(i.SelectValue,{})}),(0,s.jsx)(i.SelectContent,{children:E.map(e=>(0,s.jsx)(i.SelectItem,{value:e.toLowerCase(),children:e},e))})]})}),(0,s.jsx)(c.TableCell,{children:(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:()=>{eO(e),eU(e.rfid||""),eB(!0)},className:"text-xs",children:[(0,s.jsx)(T.Radio,{className:"w-3 h-3 mr-1"}),"Update RFID"]})})]},e.id))})]}),(0,s.jsx)(l.Dialog,{open:eH,onOpenChange:eB,children:(0,s.jsxs)(l.DialogContent,{className:"sm:max-w-md",children:[(0,s.jsxs)(l.DialogHeader,{children:[(0,s.jsx)(l.DialogTitle,{className:"text-red-800",children:"Update RFID Card"}),(0,s.jsxs)(l.DialogDescription,{children:["Assign or update RFID card for ",eM?.name||"student"]})]}),(0,s.jsxs)("form",{onSubmit:e1,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"studentInfo",children:"Student Information"}),(0,s.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[(0,s.jsx)("p",{className:"font-semibold",children:eM?.name||"N/A"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[eM?.student_id||"N/A"," | ",eM?.email||"N/A"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"rfidCard",children:"RFID Card Number *"}),(0,s.jsx)(n.Input,{id:"rfidCard",value:e$,onChange:e=>eU(e.target.value),placeholder:"Enter RFID card UID (e.g., 326e2ab)",required:!0,className:"font-mono"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the RFID card UID as scanned by the ESP32 device"})]}),ez&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded text-sm",children:ez}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(t.Button,{type:"button",variant:"outline",onClick:()=>{eB(!1),eU(""),eO(null),eJ(null)},children:"Cancel"}),(0,s.jsx)(t.Button,{type:"submit",disabled:eV,className:"bg-red-800 hover:bg-red-700",children:eV?"Updating...":"Update RFID"})]})]})]})})]})})]})}),(0,s.jsx)(o.TabsContent,{value:"reports",className:"space-y-6",children:(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{className:"text-red-800",children:"Reports and Analytics"}),(0,s.jsx)(r.CardDescription,{children:"Generate and view various school reports and analytics"})]}),(0,s.jsx)(r.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)(r.Card,{className:"border-blue-200",children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsx)(r.CardTitle,{className:"text-sm",children:"Academic Reports"})}),(0,s.jsxs)(r.CardContent,{children:[(0,s.jsx)(_.default,{href:"/admin/teacher-attendance",children:(0,s.jsx)(t.Button,{variant:"outline",className:"w-full mb-2 bg-transparent hover:bg-red-50",children:"Teacher Attendance Analytics"})}),(0,s.jsx)(t.Button,{variant:"outline",className:"w-full mb-2 bg-transparent",children:"Grade Reports"}),(0,s.jsx)(_.default,{href:"/admin/attendance-reports",children:(0,s.jsx)(t.Button,{variant:"outline",className:"w-full mb-2 bg-transparent hover:bg-red-50",children:"Attendance Reports"})}),(0,s.jsx)(t.Button,{variant:"outline",className:"w-full mb-2 bg-transparent",children:"Performance Analytics"}),(0,s.jsx)(t.Button,{variant:"outline",className:"w-full bg-transparent",children:"Student Progress Reports"})]})]}),(0,s.jsxs)(r.Card,{className:"border-green-200",children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsx)(r.CardTitle,{className:"text-sm",children:"Administrative Reports"})}),(0,s.jsxs)(r.CardContent,{children:[(0,s.jsx)(t.Button,{variant:"outline",className:"w-full mb-2 bg-transparent",children:"Enrollment Reports"}),(0,s.jsx)(t.Button,{variant:"outline",className:"w-full mb-2 bg-transparent",children:"Financial Reports"}),(0,s.jsx)(t.Button,{variant:"outline",className:"w-full mb-2 bg-transparent",children:"System Usage Reports"}),(0,s.jsx)(t.Button,{variant:"outline",className:"w-full bg-transparent",children:"Custom Reports"})]})]})]})})]})}),(0,s.jsx)(o.TabsContent,{value:"settings",className:"space-y-6",children:(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{className:"text-red-800",children:"System Settings"}),(0,s.jsx)(r.CardDescription,{children:"Configure system preferences and administrative settings"})]}),(0,s.jsx)(r.CardContent,{children:eT?(0,s.jsx)("div",{className:"text-center py-6 text-gray-500",children:"Loading settings..."}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-4",children:"General Settings"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"schoolName",children:"School Name"}),(0,s.jsx)(n.Input,{id:"schoolName",value:eS.schoolName,onChange:e=>e3("schoolName",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Label,{htmlFor:"academicYear",children:"Academic Year"}),(0,s.jsx)(n.Input,{id:"academicYear",value:eS.academicYear,onChange:e=>e3("academicYear",e.target.value)})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-4",children:"System Configuration"}),(0,s.jsx)("div",{className:"space-y-4",children:[{label:"Automatic Backup",field:"automaticBackup",description:"Daily off-site backups"},{label:"RFID Integration",field:"rfidIntegration",description:"Sync attendance readers"},{label:"Email Notifications",field:"emailNotifications",description:"Send alerts to guardians"},{label:"Student Portal Access",field:"studentPortal",description:"Allow student logins"},{label:"Teacher Portal Access",field:"teacherPortal",description:"Enable teacher dashboard"}].map(e=>(0,s.jsxs)("label",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block font-medium text-sm",children:e.label}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:e.description})]}),(0,s.jsx)("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-300 text-red-700 focus:ring-red-500",checked:eS[e.field],onChange:()=>{var s;return s=e.field,void eC(e=>({...e,[s]:!e[s]}))}})]},e.field))})]}),eR&&(0,s.jsx)("div",{className:"text-sm text-green-700 bg-green-50 border border-green-100 rounded-md p-3",children:eR}),(0,s.jsx)(t.Button,{className:"bg-red-800 hover:bg-red-700",onClick:eZ,disabled:eA,children:eA?"Saving...":"Save Settings"})]})})]})})]})})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)(r.Card,{className:"w-full max-w-md border-gray-200",children:[(0,s.jsxs)(r.CardHeader,{className:"text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(F.default,{src:"/logo.png",alt:"Sto Niño de Praga Academy Logo",width:80,height:80,className:"rounded-full"})}),(0,s.jsx)(r.CardTitle,{className:"text-2xl font-bold text-gray-800",children:"Admin Login"}),(0,s.jsx)(r.CardDescription,{children:"Sto Niño de Praga Academy"})]}),(0,s.jsx)(r.CardContent,{children:(0,s.jsxs)("form",{onSubmit:e2,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(d.Label,{htmlFor:"email",className:"text-gray-800",children:[(0,s.jsx)(S.Mail,{className:"w-4 h-4 inline mr-2"}),"Email"]}),(0,s.jsx)(n.Input,{id:"email",type:"email",value:$,onChange:e=>U(e.target.value),placeholder:"Enter your email",required:!0,className:"border-gray-300"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(d.Label,{htmlFor:"password",className:"text-gray-800",children:[(0,s.jsx)(w.Lock,{className:"w-4 h-4 inline mr-2"}),"Password"]}),(0,s.jsx)(n.Input,{id:"password",type:"password",value:V,onChange:e=>q(e.target.value),placeholder:"Enter your password",required:!0,className:"border-gray-300"})]}),z&&(0,s.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-lg",children:z}),(0,s.jsx)(t.Button,{type:"submit",className:"w-full bg-red-800 hover:bg-red-700",disabled:Y,children:Y?"Logging in...":"Login"}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)(_.default,{href:"/",className:"text-sm text-gray-600 hover:text-red-800",children:[(0,s.jsx)(v.Home,{className:"w-4 h-4 inline mr-1"}),"Back to Home"]})})]})})]})})}e.s(["default",()=>H],23261)}]);