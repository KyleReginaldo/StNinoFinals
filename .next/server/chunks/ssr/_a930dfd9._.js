module.exports=[54161,a=>{"use strict";var b=a.i(95526),c=a.i(42261),d=a.i(97895);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},5522,17171,a=>{"use strict";var b=a.i(95526),c=a.i(21113),d=a.i(97895);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e],5522);var f=a.i(38577),g=c.forwardRef((a,c)=>(0,b.jsx)(f.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));g.displayName="Label";let h=(0,a.i(42261).cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(g,{ref:e,className:(0,d.cn)(h(),a),...c}));i.displayName=g.displayName,a.s(["Label",()=>i],17171)},88237,a=>{"use strict";var b=a.i(95526),c=a.i(21113),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},5378,a=>{"use strict";let b=(0,a.i(42890).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],5378)},74498,a=>{"use strict";let b=(0,a.i(42890).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);a.s(["Filter",()=>b],74498)},15295,a=>{"use strict";var b=a.i(95526),c=a.i(54161),d=a.i(40695),e=a.i(3130),f=a.i(65733),g=a.i(5522),h=a.i(17171),i=a.i(87682),j=a.i(88237),k=a.i(74498),l=a.i(5378);let m=(0,a.i(42890).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var n=a.i(21113);function o(){let[a,o]=(0,n.useState)([]),[p,q]=(0,n.useState)(!1),[r,s]=(0,n.useState)(""),[t,u]=(0,n.useState)(!1),[v,w]=(0,n.useState)({first_name:"",last_name:"",middle_name:"",student_number:"",grade_level:"",section:"",email:"",phone_number:"",date_of_birth:"",address:""}),[x,y]=(0,n.useState)(!1),[z,A]=(0,n.useState)(""),B=async()=>{q(!0);try{let a=await fetch("/api/admin/students"),b=await a.json();b.success&&b.students&&o(b.students)}catch(a){console.error("Error fetching students:",a)}finally{q(!1)}};(0,n.useEffect)(()=>{B()},[]);let C=a.filter(a=>`${a.first_name} ${a.last_name} ${a.student_number}`.toLowerCase().includes(r.toLowerCase())),D=async a=>{a.preventDefault(),y(!0),A("");try{let a=`Student${Math.random().toString(36).slice(-8)}${Math.floor(100*Math.random())}`,b=await fetch("/api/admin/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:v.first_name,last_name:v.last_name,middle_name:v.middle_name,student_number:v.student_number,grade_level:v.grade_level,section:v.section,email:v.email,phone_number:v.phone_number,date_of_birth:v.date_of_birth,address:v.address,password:a})}),c=await b.json();if(!c.success)throw Error(c.error||"Failed to add student");await B();let d={email:v.email,password:a};w({first_name:"",last_name:"",middle_name:"",student_number:"",grade_level:"",section:"",email:"",phone_number:"",date_of_birth:"",address:""}),u(!1),alert(`Student added successfully!

Login Credentials:
Email: ${d.email}
Password: ${d.password}

Please save these credentials and provide them to the student!`)}catch(a){console.error("Error adding student:",a),A(a?.message||"Failed to add student. Please try again.")}finally{y(!1)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-red-800",children:"Student Management"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Manage student records and information"})]}),(0,b.jsxs)(f.Dialog,{open:t,onOpenChange:u,children:[(0,b.jsx)(f.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{className:"bg-red-800 hover:bg-red-700",children:[(0,b.jsx)(m,{className:"w-4 h-4 mr-2"}),"Add Student"]})}),(0,b.jsxs)(f.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(f.DialogHeader,{children:[(0,b.jsx)(f.DialogTitle,{className:"text-red-800",children:"Add New Student"}),(0,b.jsx)(f.DialogDescription,{children:"Enter student information to create a new account"})]}),(0,b.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"first_name",children:"First Name *"}),(0,b.jsx)(g.Input,{id:"first_name",value:v.first_name,onChange:a=>w({...v,first_name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"last_name",children:"Last Name *"}),(0,b.jsx)(g.Input,{id:"last_name",value:v.last_name,onChange:a=>w({...v,last_name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"middle_name",children:"Middle Name"}),(0,b.jsx)(g.Input,{id:"middle_name",value:v.middle_name,onChange:a=>w({...v,middle_name:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"student_number",children:"Student Number *"}),(0,b.jsx)(g.Input,{id:"student_number",value:v.student_number,onChange:a=>w({...v,student_number:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"grade_level",children:"Grade Level *"}),(0,b.jsxs)(i.Select,{value:v.grade_level,onValueChange:a=>w({...v,grade_level:a}),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select grade"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"Grade 1",children:"Grade 1"}),(0,b.jsx)(i.SelectItem,{value:"Grade 2",children:"Grade 2"}),(0,b.jsx)(i.SelectItem,{value:"Grade 3",children:"Grade 3"}),(0,b.jsx)(i.SelectItem,{value:"Grade 4",children:"Grade 4"}),(0,b.jsx)(i.SelectItem,{value:"Grade 5",children:"Grade 5"}),(0,b.jsx)(i.SelectItem,{value:"Grade 6",children:"Grade 6"}),(0,b.jsx)(i.SelectItem,{value:"Grade 7",children:"Grade 7"}),(0,b.jsx)(i.SelectItem,{value:"Grade 8",children:"Grade 8"}),(0,b.jsx)(i.SelectItem,{value:"Grade 9",children:"Grade 9"}),(0,b.jsx)(i.SelectItem,{value:"Grade 10",children:"Grade 10"}),(0,b.jsx)(i.SelectItem,{value:"Grade 11",children:"Grade 11"}),(0,b.jsx)(i.SelectItem,{value:"Grade 12",children:"Grade 12"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"section",children:"Section"}),(0,b.jsx)(g.Input,{id:"section",value:v.section,onChange:a=>w({...v,section:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"email",children:"Email *"}),(0,b.jsx)(g.Input,{id:"email",type:"email",value:v.email,onChange:a=>w({...v,email:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"phone_number",children:"Phone Number"}),(0,b.jsx)(g.Input,{id:"phone_number",value:v.phone_number,onChange:a=>w({...v,phone_number:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"date_of_birth",children:"Date of Birth"}),(0,b.jsx)(g.Input,{id:"date_of_birth",type:"date",value:v.date_of_birth,onChange:a=>w({...v,date_of_birth:a.target.value})})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)(h.Label,{htmlFor:"address",children:"Address"}),(0,b.jsx)(g.Input,{id:"address",value:v.address,onChange:a=>w({...v,address:a.target.value})})]})]}),z&&(0,b.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded",children:z}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>u(!1),disabled:x,children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",className:"bg-red-800 hover:bg-red-700",disabled:x,children:x?"Adding...":"Add Student"})]})]})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(e.CardTitle,{className:"text-red-800",children:"All Students"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(l.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,b.jsx)(g.Input,{placeholder:"Search students...",className:"pl-10 w-64",value:r,onChange:a=>s(a.target.value)})]}),(0,b.jsx)(d.Button,{variant:"outline",size:"icon",children:(0,b.jsx)(k.Filter,{className:"w-4 h-4"})})]})]})}),(0,b.jsx)(e.CardContent,{children:p?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-800 mx-auto"}),(0,b.jsx)("p",{className:"text-gray-600 mt-2",children:"Loading students..."})]}):(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableHead,{children:"Student Number"}),(0,b.jsx)(j.TableHead,{children:"Name"}),(0,b.jsx)(j.TableHead,{children:"Grade Level"}),(0,b.jsx)(j.TableHead,{children:"Section"}),(0,b.jsx)(j.TableHead,{children:"Email"}),(0,b.jsx)(j.TableHead,{children:"Status"}),(0,b.jsx)(j.TableHead,{children:"Actions"})]})}),(0,b.jsx)(j.TableBody,{children:C.length>0?C.map(a=>(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableCell,{className:"font-medium",children:a.student_number}),(0,b.jsx)(j.TableCell,{children:`${a.first_name} ${a.last_name}`}),(0,b.jsx)(j.TableCell,{children:a.grade_level||"N/A"}),(0,b.jsx)(j.TableCell,{children:a.section||"N/A"}),(0,b.jsx)(j.TableCell,{children:a.email||"N/A"}),(0,b.jsx)(j.TableCell,{children:(0,b.jsx)(c.Badge,{className:"bg-green-100 text-green-800",children:a.status||"Active"})}),(0,b.jsx)(j.TableCell,{children:(0,b.jsx)(d.Button,{variant:"outline",size:"sm",children:"View"})})]},a.id)):(0,b.jsx)(j.TableRow,{children:(0,b.jsx)(j.TableCell,{colSpan:7,className:"text-center text-gray-500",children:"No students found"})})})]})})]})]})}a.s(["default",()=>o],15295)}];

//# sourceMappingURL=_a930dfd9._.js.map