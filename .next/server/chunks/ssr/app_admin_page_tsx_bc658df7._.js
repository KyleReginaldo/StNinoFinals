module.exports=[88367,a=>{"use strict";var b=a.i(95526),c=a.i(54161),d=a.i(40695),e=a.i(3130),f=a.i(65733),g=a.i(5522),h=a.i(17171),i=a.i(87682),j=a.i(88237),k=a.i(21958),l=a.i(7291),m=a.i(42890);let n=(0,m.default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var o=a.i(36562);let p=(0,m.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var q=a.i(85382),r=a.i(67162);let s=(0,m.default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var t=a.i(56994),u=a.i(74498),v=a.i(21672),w=a.i(83518),x=a.i(67814),y=a.i(22188);let z=(0,m.default)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);var A=a.i(97006),B=a.i(88533),C=a.i(13906);let D=(0,m.default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var E=a.i(86569);let F=(0,m.default)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);var G=a.i(41819),H=a.i(4640),I=a.i(21113);let J={schoolName:"Sto Niño de Praga Academy",academicYear:"2024-2025",automaticBackup:!0,rfidIntegration:!0,emailNotifications:!0,studentPortal:!0,teacherPortal:!0},K=["All Grades","Grade 1","Grade 2","Grade 3","Grade 4","Grade 5","Grade 6","Grade 7","Grade 8","Grade 9","Grade 10","Grade 11","Grade 12"],L=["Enrolled","Pending","Alumni","Inactive"];function M(){var a,m;let[M,N]=(0,I.useState)(null),[O,P]=(0,I.useState)(!0),[Q,R]=(0,I.useState)(""),[S,T]=(0,I.useState)(""),[U,V]=(0,I.useState)(null),[W,X]=(0,I.useState)(!1),[Y,Z]=(0,I.useState)("dashboard"),[$,_]=(0,I.useState)(!1),[aa,ab]=(0,I.useState)(!1),[ac,ad]=(0,I.useState)(null),[ae,af]=(0,I.useState)({first_name:"",last_name:"",middle_name:"",student_number:"",grade_level:"",section:"",email:"",phone_number:""}),[ag,ah]=(0,I.useState)({totalStudents:0,totalTeachers:0,attendanceRate:0}),[ai,aj]=(0,I.useState)([]),[ak,al]=(0,I.useState)(!1),[am,an]=(0,I.useState)(!1),[ao,ap]=(0,I.useState)(null),[aq,ar]=(0,I.useState)(!1),[as,at]=(0,I.useState)(null),[au,av]=(0,I.useState)({search:"",grade:"All Grades",status:"all"}),[aw,ax]=(0,I.useState)(null),[ay,az]=(0,I.useState)(J),[aA,aB]=(0,I.useState)(!1),[aC,aD]=(0,I.useState)(!1),[aE,aF]=(0,I.useState)(null),[aG,aH]=(0,I.useState)([]),[aI,aJ]=(0,I.useState)(!1),[aK,aL]=(0,I.useState)(null),[aM,aN]=(0,I.useState)(!1),[aO,aP]=(0,I.useState)(null),[aQ,aR]=(0,I.useState)(""),[aS,aT]=(0,I.useState)(!1),[aU,aV]=(0,I.useState)(null),aW=(0,I.useMemo)(()=>ai.filter(a=>{let b=`${a.first_name||""} ${a.middle_name||""} ${a.last_name||""}`.trim(),c=0===au.search.trim().length||`${b} ${a.student_number}`.toLowerCase().includes(au.search.toLowerCase()),d="All Grades"===au.grade||a.grade_level?.toLowerCase()===au.grade.toLowerCase(),e="all"===au.status||(a.status||"Active").toLowerCase()===au.status.toLowerCase();return c&&d&&e}),[ai,au]),aX=async()=>{al(!0);try{let a=await fetch("/api/admin/stats"),b=await a.json();b.success&&b.data&&ah(b.data)}catch(a){console.error("Error fetching stats:",a)}finally{al(!1)}},aY=async()=>{an(!0);try{let a=await fetch("/api/admin/students"),b=await a.json();b.success&&b.students&&aj(b.students)}catch(a){console.error("Error fetching students:",a)}finally{an(!1)}},aZ=async()=>{ar(!0),at(null);try{let a=await fetch("/api/admin/attendance"),b=a.headers.get("content-type");if(!b||!b.includes("application/json")){let b=await a.text();throw console.error("Non-JSON response:",b.substring(0,200)),Error("Server returned an invalid response. Please check the API endpoint.")}let c=await a.json();if(!a.ok||!c.success)throw Error(c.error||"Failed to load attendance data.");ap(c.data)}catch(a){console.error("Error fetching attendance:",a),a?.message?.includes("JSON")||a?.message?.includes("DOCTYPE")?at("Unable to connect to attendance service. Please check if the server is running."):at(a?.message||"Unable to load attendance data.")}finally{ar(!1)}},a$=async()=>{aB(!0),aF(null);try{let a=await fetch("/api/admin/settings"),b=a.headers.get("content-type");if(!b||!b.includes("application/json")){let b=await a.text();throw Error(`Invalid response format: ${b.substring(0,100)}`)}let c=await a.json();if(!a.ok||!c.success)throw Error(c.error||"Failed to load settings.");az(c.settings)}catch(a){console.error("Error fetching settings:",a),aF(a?.message||"Unable to load settings.")}finally{aB(!1)}},a_=async()=>{aD(!0),aF(null);try{let a=await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ay)}),b=await a.json();if(!a.ok||!b.success)throw Error(b.error||"Failed to save settings.");az(b.settings),aF("Settings saved successfully.")}catch(a){console.error("Error saving settings:",a),aF(a?.message||"Unable to save settings.")}finally{aD(!1)}};(0,I.useEffect)(()=>{let a=localStorage.getItem("admin");if(a)try{let b=JSON.parse(a);N(b)}catch(a){console.error("Error parsing stored admin data:",a),localStorage.removeItem("admin")}P(!1)},[]),(0,I.useEffect)(()=>{M&&Promise.all([aX().catch(a=>console.error("Error in fetchStats:",a)),aY().catch(a=>console.error("Error in fetchStudents:",a)),aZ().catch(a=>console.error("Error in fetchAttendance:",a)),a$().catch(a=>console.error("Error in fetchSettings:",a))])},[M]),(0,I.useEffect)(()=>{!M||"attendance"!==Y||ao||aq||aZ().catch(a=>console.error("Error in fetchAttendance:",a))},[Y]),(0,I.useEffect)(()=>{M&&"students"===Y&&!am&&aY().catch(a=>console.error("Error in fetchStudents:",a))},[Y]);let a0=async()=>{aJ(!0),aL(null);try{let a=await fetch("/api/admin/attendance-live?limit=100");if(!a.ok){let b="Server error";try{let c=a.headers.get("content-type");if(c&&c.includes("application/json")){let c=await a.json();b=c.error||c.message||`HTTP ${a.status}`}else b=`HTTP ${a.status}: ${a.statusText}`}catch{b=`HTTP ${a.status}: ${a.statusText}`}throw Error(b)}let b=a.headers.get("content-type");if(!b||!b.includes("application/json")){let b=await a.text();throw console.error("Non-JSON response received:",b.substring(0,200)),Error(`Invalid response format: ${b.substring(0,100)}`)}let c=await a.json();c.success&&c.records?(aH(c.records),aL(null)):(aL(c.error||c.warning||"Failed to load RFID scans."),c.records&&aH(c.records))}catch(a){console.error("Error fetching RFID scans:",a),aL(a?.message||"Unable to load RFID scans.")}finally{aJ(!1)}};(0,I.useEffect)(()=>{if(M&&"rfid-scans"===Y){a0().catch(a=>console.error("Error in fetchRfidScans:",a));let a=setInterval(()=>{a0().catch(a=>console.error("Error in fetchRfidScans:",a))},5e3);return()=>clearInterval(a)}},[Y,M]);let a1=async a=>{if(a.preventDefault(),aV(null),!aQ.trim())return void aV("RFID card number is required.");if(!aO)return void aV("No student selected.");aT(!0);try{let a=await fetch("/api/students/update-rfid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:aO.email,rfidCard:aQ.trim()})}),b=await a.json();b.success?(alert("RFID card updated successfully!"),aN(!1),aR(""),aP(null),aV(null),aY()):aV(b.error||"Failed to update RFID card. Please try again.")}catch(a){console.error("Update RFID error:",a),aV("Error updating RFID card. Please try again.")}finally{aT(!1)}},a2=async a=>{a.preventDefault(),X(!0),V(null);try{let a=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:Q,password:S})});if(!a.ok){let b=await a.json().catch(()=>({error:"Network error occurred"}));V(b.error||`Server error (${a.status}). Please try again.`);return}let b=await a.json();b.success&&b.admin?(N(b.admin),localStorage.setItem("admin",JSON.stringify(b.admin)),R(""),T(""),V(null)):V(b.error||"Login failed. Please check your credentials.")}catch(b){console.error("Login error:",b);let a=b?.message||String(b)||"";a&&(a.includes("fetch")||a.includes("network"))?V("Network error. Please check your internet connection and try again."):a&&a.includes("Failed to fetch")?V("Cannot connect to the server. Please make sure the server is running."):V(`An error occurred: ${a||"Please try again."}`)}finally{X(!1)}},a3=async()=>{confirm("Are you sure you want to log out?")&&(await l.supabase.auth.signOut(),localStorage.removeItem("admin"),N(null),window.location.href="/")},a4=async()=>{try{let a=await fetch("/api/admin/students"),b=await a.json();if(b.success&&b.students&&b.students.length>0){let a=b.students.map(a=>{let b=(a.student_number||"").match(/\d+/);return b?parseInt(b[0]):0}).filter(a=>a>0),c=a.length>0?Math.max(...a):0,d=new Date().getFullYear();return`${d}-${String(c+1).padStart(3,"0")}`}}catch(a){console.error("Error fetching students for ID generation:",a)}let a=new Date().getFullYear();return`${a}-001`},a5=async a=>{if(a.preventDefault(),ax(null),!ae.first_name.trim()||!ae.last_name.trim()||!ae.section.trim())return void ax("First Name, Last Name, and Section are required.");if(!ae.grade_level)return void ax("Please select a grade level.");let b=await a4(),c=(()=>{let a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",b="";for(let c=0;c<8;c++)b+=a.charAt(Math.floor(Math.random()*a.length));return b})();try{let a=await fetch("/api/admin/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:ae.first_name,last_name:ae.last_name,middle_name:ae.middle_name||null,student_number:b,grade_level:ae.grade_level,section:ae.section,email:ae.email,phone_number:ae.phone_number||null,password:c})}),d=await a.json();d.success?(ad({student_number:b,username:b,password:c,first_name:ae.first_name,last_name:ae.last_name}),_(!1),ab(!0),af({first_name:"",last_name:"",middle_name:"",student_number:"",grade_level:"",section:"",email:"",phone_number:""}),ax(null),aY(),aX()):alert(d.error||"Failed to add student. Please try again.")}catch(a){console.error("Add student error:",a),alert("Error adding student. Please try again.")}},a6=(a,b)=>{av(c=>({...c,[a]:b}))},a7=(a,b)=>{az(c=>({...c,[a]:b}))};return O?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("div",{className:"text-xl font-bold text-red-800",children:"Loading..."})})}):M?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("header",{className:"bg-white shadow-md border-b-4 border-red-800",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(G.default,{src:"/logo.png",alt:"Sto Niño de Praga Academy Logo",width:60,height:60,className:"rounded-full"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-red-800",children:"Admin Portal"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Sto Niño de Praga Academy"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(H.default,{href:"/",children:(0,b.jsxs)(d.Button,{variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white bg-transparent",children:[(0,b.jsx)(v.Home,{className:"w-4 h-4 mr-2"}),"Home"]})}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"font-medium text-red-800",children:M.name||M.first_name||M.email||"Admin User"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"System Administrator"})]}),(0,b.jsx)(d.Button,{onClick:a3,variant:"outline",className:"border-red-800 text-red-800 hover:bg-red-800 hover:text-white bg-transparent",children:"Logout"})]})]})})}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)(k.Tabs,{value:Y,onValueChange:Z,className:"w-full",children:[(0,b.jsxs)(k.TabsList,{className:"grid w-full grid-cols-6 mb-8",children:[(0,b.jsxs)(k.TabsTrigger,{value:"dashboard",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(w.LayoutDashboard,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),(0,b.jsxs)(k.TabsTrigger,{value:"attendance",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(r.Clock,{className:"w-4 h-4 mr-2"}),"Attendance & RFID"]}),(0,b.jsxs)(k.TabsTrigger,{value:"rfid-scans",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(A.Radio,{className:"w-4 h-4 mr-2"}),"RFID Scans"]}),(0,b.jsxs)(k.TabsTrigger,{value:"students",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(E.Users,{className:"w-4 h-4 mr-2"}),"Student Management"]}),(0,b.jsxs)(k.TabsTrigger,{value:"reports",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(p,{className:"w-4 h-4 mr-2"}),"Reports & Analytics"]}),(0,b.jsxs)(k.TabsTrigger,{value:"settings",className:"data-[state=active]:bg-red-800 data-[state=active]:text-white",children:[(0,b.jsx)(C.Settings,{className:"w-4 h-4 mr-2"}),"System Settings"]})]}),(0,b.jsxs)(k.TabsContent,{value:"dashboard",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)(e.Card,{className:"border-red-200",children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium text-red-800",children:"Total Students"}),(0,b.jsx)(E.Users,{className:"h-4 w-4 text-red-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-800",children:ak?"...":ag.totalStudents.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"All grade levels"})]})]}),(0,b.jsxs)(e.Card,{className:"border-red-200",children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium text-red-800",children:"Total Teachers"}),(0,b.jsx)(D,{className:"h-4 w-4 text-red-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-800",children:ak?"...":ag.totalTeachers.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Active teachers"})]})]}),(0,b.jsxs)(e.Card,{className:"border-red-200",children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium text-red-800",children:"Monthly Revenue"}),(0,b.jsx)(s,{className:"h-4 w-4 text-red-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-800",children:"₱2.4M"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"This month"})]})]}),(0,b.jsxs)(e.Card,{className:"border-red-200",children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium text-red-800",children:"Attendance Rate"}),(0,b.jsx)(q.Calendar,{className:"h-4 w-4 text-red-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-800",children:"94.2%"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Overall average"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-red-800",children:"Recent Activities"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(D,{className:"w-4 h-4 text-blue-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"New teacher registered"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Maria Santos - Mathematics"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(E.Users,{className:"w-4 h-4 text-green-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Student enrollment completed"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"25 new students for Grade 7"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(t.FileText,{className:"w-4 h-4 text-purple-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Monthly report generated"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Academic performance summary"})]})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-red-800",children:"System Status"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"RFID System"}),(0,b.jsx)(c.Badge,{className:"bg-green-100 text-green-800",children:"Online"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"Student Portal"}),(0,b.jsx)(c.Badge,{className:"bg-green-100 text-green-800",children:"Running"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"Teacher Portal"}),(0,b.jsx)(c.Badge,{className:"bg-green-100 text-green-800",children:"Active"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"Database Backup"}),(0,b.jsx)(c.Badge,{className:"bg-blue-100 text-blue-800",children:"Scheduled"})]})]})})]})]})]}),(0,b.jsx)(k.TabsContent,{value:"attendance",className:"space-y-6",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-red-800",children:"Attendance and RFID Management"}),(0,b.jsx)(e.CardDescription,{children:"Monitor attendance records and RFID system"})]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:aZ,disabled:aq,className:"flex items-center gap-2",children:[(0,b.jsx)(B.RefreshCcw,{className:`w-4 h-4 ${aq?"animate-spin":""}`}),"Refresh"]})]}),as&&(0,b.jsxs)("div",{className:"flex items-start gap-2 text-sm text-red-700 bg-red-50 border border-red-100 rounded-md p-3 mt-3",children:[(0,b.jsx)(o.AlertCircle,{className:"w-4 h-4 mt-0.5"}),(0,b.jsx)("span",{children:as})]})]}),(0,b.jsx)(e.CardContent,{children:aq?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading attendance data..."}):ao?(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h4",{className:"font-medium",children:"Today's Attendance"}),(0,b.jsxs)(c.Badge,{variant:"outline",className:"text-green-700 border-green-200",children:["Updated ",ao.summary.lastSync]})]}),(0,b.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Students Present"}),(0,b.jsxs)("span",{className:"font-semibold",children:[ao.summary.presentStudents.toLocaleString()," /"," ",ao.summary.totalStudents.toLocaleString()]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Teachers Present"}),(0,b.jsxs)("span",{className:"font-semibold",children:[ao.summary.presentTeachers.toLocaleString()," /"," ",ao.summary.totalTeachers.toLocaleString()]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-green-700",children:[(0,b.jsx)("span",{children:"Overall Rate"}),(0,b.jsxs)("span",{className:"font-semibold",children:[(a=ao.summary.presentStudents+ao.summary.presentTeachers,(m=ao.summary.totalStudents+ao.summary.totalTeachers)?(a/m*100).toFixed(1):"0.0"),"%"]})]})]})]}),(0,b.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h4",{className:"font-medium flex items-center gap-2",children:[(0,b.jsx)(F,{className:"w-4 h-4 text-red-700"}),"RFID System Status"]}),(0,b.jsx)(c.Badge,{className:`${"online"===ao.rfid.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:"online"===ao.rfid.status?"Online":"Degraded"})]}),(0,b.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Active Cards"}),(0,b.jsx)("span",{className:"font-semibold",children:ao.rfid.activeCards.toLocaleString()})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Pending Activations"}),(0,b.jsx)("span",{className:"font-semibold",children:ao.rfid.pendingActivations})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Offline Readers"}),(0,b.jsx)("span",{className:`font-semibold ${ao.rfid.offlineReaders>0?"text-red-600":"text-green-700"}`,children:ao.rfid.offlineReaders})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[(0,b.jsx)(n,{className:"w-4 h-4 text-red-700"}),"System Alerts"]}),ao.recentAlerts&&0!==ao.recentAlerts.length?(0,b.jsx)("div",{className:"space-y-3",children:ao.recentAlerts.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between border border-gray-100 rounded-lg p-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o.AlertCircle,{className:`w-4 h-4 ${"warning"===a.type?"text-yellow-600":"error"===a.type?"text-red-600":"text-blue-600"}`}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.message}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Logged at ",a.timestamp]})]})]}),(0,b.jsx)(c.Badge,{variant:"outline",className:"border-gray-200",children:"RFID"})]},a.id))}):(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"No alerts today."})]})]}):(0,b.jsx)("div",{className:"text-center text-gray-500 py-8",children:"Attendance data unavailable. Please refresh."})})]})}),(0,b.jsx)(k.TabsContent,{value:"rfid-scans",className:"space-y-6",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-red-800",children:"RFID Scan Records"}),(0,b.jsx)(e.CardDescription,{children:"View real-time RFID card scans and attendance records"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>window.open("/admin/rfid-display","_blank"),className:"flex items-center gap-2",children:[(0,b.jsx)(z,{className:"w-4 h-4"}),"Open in New Window"]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:a0,disabled:aI,className:"flex items-center gap-2",children:[(0,b.jsx)(B.RefreshCcw,{className:`w-4 h-4 ${aI?"animate-spin":""}`}),"Refresh"]})]})]}),aK&&(0,b.jsxs)("div",{className:"flex items-start gap-2 text-sm text-red-700 bg-red-50 border border-red-100 rounded-md p-3 mt-3",children:[(0,b.jsx)(o.AlertCircle,{className:"w-4 h-4 mt-0.5"}),(0,b.jsx)("span",{children:aK})]})]}),(0,b.jsx)(e.CardContent,{children:aI&&0===aG.length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading RFID scans..."}):0===aG.length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No RFID scans found. Scans will appear here when students scan their cards."}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:["Showing ",aG.length," recent scans (auto-refreshes every 5 seconds)"]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableHead,{children:"Time"}),(0,b.jsx)(j.TableHead,{children:"Student Name"}),(0,b.jsx)(j.TableHead,{children:"Student ID"}),(0,b.jsx)(j.TableHead,{children:"Grade Level"}),(0,b.jsx)(j.TableHead,{children:"Section"}),(0,b.jsx)(j.TableHead,{children:"RFID Card"}),(0,b.jsx)(j.TableHead,{children:"Status"})]})}),(0,b.jsx)(j.TableBody,{children:aG.map(a=>(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableCell,{className:"font-mono text-sm",children:new Date(a.scanTime).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),(0,b.jsx)(j.TableCell,{className:"font-medium",children:a.studentName}),(0,b.jsx)(j.TableCell,{className:"font-mono text-sm",children:a.studentId||"N/A"}),(0,b.jsx)(j.TableCell,{children:a.gradeLevel}),(0,b.jsx)(j.TableCell,{children:a.section}),(0,b.jsx)(j.TableCell,{className:"font-mono text-sm",children:a.rfidCard}),(0,b.jsx)(j.TableCell,{children:(0,b.jsx)(c.Badge,{className:"Present"===a.status?"bg-green-100 text-green-800":"Late"===a.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:a.status})})]},a.id))})]})})]})})]})}),(0,b.jsx)(k.TabsContent,{value:"students",className:"space-y-6",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-red-800",children:"Student Management"}),(0,b.jsx)(e.CardDescription,{children:"Manage student records, enrollment, and academic information"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h4",{className:"font-medium",children:"Student Records"}),(0,b.jsxs)(f.Dialog,{open:$,onOpenChange:_,children:[(0,b.jsx)(f.DialogTrigger,{asChild:!0,children:(0,b.jsx)(d.Button,{className:"bg-red-800 hover:bg-red-700",children:"Add New Student"})}),(0,b.jsxs)(f.DialogContent,{className:"sm:max-w-md",children:[(0,b.jsxs)(f.DialogHeader,{children:[(0,b.jsx)(f.DialogTitle,{className:"text-red-800",children:"Add New Student"}),(0,b.jsx)(f.DialogDescription,{children:"Enter the student's information to add them to the system"})]}),(0,b.jsxs)("form",{onSubmit:a5,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"firstName",children:"First Name *"}),(0,b.jsx)(g.Input,{id:"firstName",value:ae.first_name,onChange:a=>af({...ae,first_name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"lastName",children:"Last Name *"}),(0,b.jsx)(g.Input,{id:"lastName",value:ae.last_name,onChange:a=>af({...ae,last_name:a.target.value}),required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"middleName",children:"Middle Name"}),(0,b.jsx)(g.Input,{id:"middleName",value:ae.middle_name,onChange:a=>af({...ae,middle_name:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"studentNumber",children:"Student Number *"}),(0,b.jsx)(g.Input,{id:"studentNumber",value:ae.student_number,disabled:!0,readOnly:!0,className:"bg-gray-100 cursor-not-allowed",placeholder:"Will be auto-generated"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated upon submission"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"gradeLevel",children:"Grade Level *"}),(0,b.jsxs)(i.Select,{value:ae.grade_level,onValueChange:a=>af({...ae,grade_level:a}),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select grade"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"Grade 1",children:"Grade 1"}),(0,b.jsx)(i.SelectItem,{value:"Grade 2",children:"Grade 2"}),(0,b.jsx)(i.SelectItem,{value:"Grade 3",children:"Grade 3"}),(0,b.jsx)(i.SelectItem,{value:"Grade 4",children:"Grade 4"}),(0,b.jsx)(i.SelectItem,{value:"Grade 5",children:"Grade 5"}),(0,b.jsx)(i.SelectItem,{value:"Grade 6",children:"Grade 6"}),(0,b.jsx)(i.SelectItem,{value:"Grade 7",children:"Grade 7"}),(0,b.jsx)(i.SelectItem,{value:"Grade 8",children:"Grade 8"}),(0,b.jsx)(i.SelectItem,{value:"Grade 9",children:"Grade 9"}),(0,b.jsx)(i.SelectItem,{value:"Grade 10",children:"Grade 10"}),(0,b.jsx)(i.SelectItem,{value:"Grade 11",children:"Grade 11"}),(0,b.jsx)(i.SelectItem,{value:"Grade 12",children:"Grade 12"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"section",children:"Section *"}),(0,b.jsx)(g.Input,{id:"section",value:ae.section,onChange:a=>af({...ae,section:a.target.value}),required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(g.Input,{id:"email",type:"email",value:ae.email,onChange:a=>af({...ae,email:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"phone",children:"Phone Number"}),(0,b.jsx)(g.Input,{id:"phone",type:"tel",value:ae.phone_number,onChange:a=>af({...ae,phone_number:a.target.value})})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2",children:[aw&&(0,b.jsx)("p",{className:"text-sm text-red-600 flex-1",children:aw}),(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",className:"bg-red-800 hover:bg-red-700",children:"Add Student"})]})]})]})]}),(0,b.jsx)(f.Dialog,{open:aa,onOpenChange:ab,children:(0,b.jsxs)(f.DialogContent,{className:"sm:max-w-md",children:[(0,b.jsxs)(f.DialogHeader,{children:[(0,b.jsx)(f.DialogTitle,{className:"text-red-800",children:"Student Registration Successful"}),(0,b.jsx)(f.DialogDescription,{children:"Please provide these login credentials to the student. They will be required to change their password on first login."})]}),ac&&(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-sm text-gray-600",children:"Student Name"}),(0,b.jsxs)("p",{className:"font-semibold text-lg",children:[ac.first_name," ",ac.last_name]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-sm text-gray-600",children:"Student ID / Username"}),(0,b.jsx)("p",{className:"font-mono font-semibold text-lg bg-white p-2 rounded border",children:ac.username})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-sm text-gray-600",children:"Temporary Password"}),(0,b.jsx)("p",{className:"font-mono font-semibold text-lg bg-white p-2 rounded border text-red-600",children:ac.password})]}),(0,b.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 mt-4",children:(0,b.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,b.jsx)("strong",{children:"Important:"})," The student must change their password and complete their profile on first login."]})})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)(d.Button,{onClick:()=>{ab(!1),ad(null)},className:"bg-red-800 hover:bg-red-700",children:"Close"})})]})]})})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,b.jsx)(u.Filter,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Filter records"})]}),(0,b.jsx)(g.Input,{placeholder:"Search by name or ID",value:au.search,onChange:a=>a6("search",a.target.value),className:"w-full md:w-1/3"}),(0,b.jsxs)(i.Select,{value:au.grade,onValueChange:a=>a6("grade",a),children:[(0,b.jsx)(i.SelectTrigger,{className:"w-full md:w-48",children:(0,b.jsx)(i.SelectValue,{placeholder:"Grade level"})}),(0,b.jsx)(i.SelectContent,{children:K.map(a=>(0,b.jsx)(i.SelectItem,{value:a,children:a},a))})]}),(0,b.jsxs)(i.Select,{value:au.status,onValueChange:a=>a6("status",a),children:[(0,b.jsx)(i.SelectTrigger,{className:"w-full md:w-48",children:(0,b.jsx)(i.SelectValue,{placeholder:"Status"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"All Statuses"}),L.map(a=>(0,b.jsx)(i.SelectItem,{value:a.toLowerCase(),children:a},a))]})]})]}),(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableHead,{children:"Student ID"}),(0,b.jsx)(j.TableHead,{children:"Name"}),(0,b.jsx)(j.TableHead,{children:"Grade Level"}),(0,b.jsx)(j.TableHead,{children:"Section"}),(0,b.jsx)(j.TableHead,{children:"RFID Card"}),(0,b.jsx)(j.TableHead,{children:"Status"}),(0,b.jsx)(j.TableHead,{children:"Actions"})]})}),(0,b.jsx)(j.TableBody,{children:am?(0,b.jsx)(j.TableRow,{children:(0,b.jsx)(j.TableCell,{colSpan:7,className:"text-center text-gray-500",children:"Loading students..."})}):0===aW.length?(0,b.jsx)(j.TableRow,{children:(0,b.jsx)(j.TableCell,{colSpan:7,className:"text-center text-gray-500",children:"No students match the current filters."})}):aW.map(a=>(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableCell,{children:a.student_number||"N/A"}),(0,b.jsx)(j.TableCell,{children:`${a.first_name||""} ${a.middle_name||""} ${a.last_name||""}`.trim()||"N/A"}),(0,b.jsx)(j.TableCell,{children:a.grade_level||"N/A"}),(0,b.jsx)(j.TableCell,{children:a.section||"N/A"}),(0,b.jsx)(j.TableCell,{className:"font-mono text-sm",children:a.rfid||(0,b.jsx)("span",{className:"text-gray-400 italic",children:"Not assigned"})}),(0,b.jsx)(j.TableCell,{children:(0,b.jsxs)(i.Select,{value:(a.status||"Enrolled").toLowerCase(),onValueChange:b=>{var c;let d;return c=a.id,d=b.charAt(0).toUpperCase()+b.slice(1),void aj(a=>a.map(a=>a.id===c?{...a,status:d}:a))},children:[(0,b.jsx)(i.SelectTrigger,{className:"w-32 text-xs",children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsx)(i.SelectContent,{children:L.map(a=>(0,b.jsx)(i.SelectItem,{value:a.toLowerCase(),children:a},a))})]})}),(0,b.jsx)(j.TableCell,{children:(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{aP(a),aR(a.rfid||""),aN(!0)},className:"text-xs",children:[(0,b.jsx)(A.Radio,{className:"w-3 h-3 mr-1"}),"Update RFID"]})})]},a.id))})]}),(0,b.jsx)(f.Dialog,{open:aM,onOpenChange:aN,children:(0,b.jsxs)(f.DialogContent,{className:"sm:max-w-md",children:[(0,b.jsxs)(f.DialogHeader,{children:[(0,b.jsx)(f.DialogTitle,{className:"text-red-800",children:"Update RFID Card"}),(0,b.jsxs)(f.DialogDescription,{children:["Assign or update RFID card for ",aO?.name||"student"]})]}),(0,b.jsxs)("form",{onSubmit:a1,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"studentInfo",children:"Student Information"}),(0,b.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[(0,b.jsx)("p",{className:"font-semibold",children:aO?.name||"N/A"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[aO?.student_id||"N/A"," | ",aO?.email||"N/A"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"rfidCard",children:"RFID Card Number *"}),(0,b.jsx)(g.Input,{id:"rfidCard",value:aQ,onChange:a=>aR(a.target.value),placeholder:"Enter RFID card UID (e.g., 326e2ab)",required:!0,className:"font-mono"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the RFID card UID as scanned by the ESP32 device"})]}),aU&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded text-sm",children:aU}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>{aN(!1),aR(""),aP(null),aV(null)},children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",disabled:aS,className:"bg-red-800 hover:bg-red-700",children:aS?"Updating...":"Update RFID"})]})]})]})})]})})]})}),(0,b.jsx)(k.TabsContent,{value:"reports",className:"space-y-6",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-red-800",children:"Reports and Analytics"}),(0,b.jsx)(e.CardDescription,{children:"Generate and view various school reports and analytics"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)(e.Card,{className:"border-blue-200",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-sm",children:"Academic Reports"})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)(H.default,{href:"/admin/teacher-attendance",children:(0,b.jsx)(d.Button,{variant:"outline",className:"w-full mb-2 bg-transparent hover:bg-red-50",children:"Teacher Attendance Analytics"})}),(0,b.jsx)(d.Button,{variant:"outline",className:"w-full mb-2 bg-transparent",children:"Grade Reports"}),(0,b.jsx)(H.default,{href:"/admin/attendance-reports",children:(0,b.jsx)(d.Button,{variant:"outline",className:"w-full mb-2 bg-transparent hover:bg-red-50",children:"Attendance Reports"})}),(0,b.jsx)(d.Button,{variant:"outline",className:"w-full mb-2 bg-transparent",children:"Performance Analytics"}),(0,b.jsx)(d.Button,{variant:"outline",className:"w-full bg-transparent",children:"Student Progress Reports"})]})]}),(0,b.jsxs)(e.Card,{className:"border-green-200",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-sm",children:"Administrative Reports"})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)(d.Button,{variant:"outline",className:"w-full mb-2 bg-transparent",children:"Enrollment Reports"}),(0,b.jsx)(d.Button,{variant:"outline",className:"w-full mb-2 bg-transparent",children:"Financial Reports"}),(0,b.jsx)(d.Button,{variant:"outline",className:"w-full mb-2 bg-transparent",children:"System Usage Reports"}),(0,b.jsx)(d.Button,{variant:"outline",className:"w-full bg-transparent",children:"Custom Reports"})]})]})]})})]})}),(0,b.jsx)(k.TabsContent,{value:"settings",className:"space-y-6",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-red-800",children:"System Settings"}),(0,b.jsx)(e.CardDescription,{children:"Configure system preferences and administrative settings"})]}),(0,b.jsx)(e.CardContent,{children:aA?(0,b.jsx)("div",{className:"text-center py-6 text-gray-500",children:"Loading settings..."}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-4",children:"General Settings"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"schoolName",children:"School Name"}),(0,b.jsx)(g.Input,{id:"schoolName",value:ay.schoolName,onChange:a=>a7("schoolName",a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"academicYear",children:"Academic Year"}),(0,b.jsx)(g.Input,{id:"academicYear",value:ay.academicYear,onChange:a=>a7("academicYear",a.target.value)})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-4",children:"System Configuration"}),(0,b.jsx)("div",{className:"space-y-4",children:[{label:"Automatic Backup",field:"automaticBackup",description:"Daily off-site backups"},{label:"RFID Integration",field:"rfidIntegration",description:"Sync attendance readers"},{label:"Email Notifications",field:"emailNotifications",description:"Send alerts to guardians"},{label:"Student Portal Access",field:"studentPortal",description:"Allow student logins"},{label:"Teacher Portal Access",field:"teacherPortal",description:"Enable teacher dashboard"}].map(a=>(0,b.jsxs)("label",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"block font-medium text-sm",children:a.label}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:a.description})]}),(0,b.jsx)("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-300 text-red-700 focus:ring-red-500",checked:ay[a.field],onChange:()=>{var b;return b=a.field,void az(a=>({...a,[b]:!a[b]}))}})]},a.field))})]}),aE&&(0,b.jsx)("div",{className:"text-sm text-green-700 bg-green-50 border border-green-100 rounded-md p-3",children:aE}),(0,b.jsx)(d.Button,{className:"bg-red-800 hover:bg-red-700",onClick:a_,disabled:aC,children:aC?"Saving...":"Save Settings"})]})})]})})]})})]}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)(e.Card,{className:"w-full max-w-md border-gray-200",children:[(0,b.jsxs)(e.CardHeader,{className:"text-center",children:[(0,b.jsx)("div",{className:"flex justify-center mb-4",children:(0,b.jsx)(G.default,{src:"/logo.png",alt:"Sto Niño de Praga Academy Logo",width:80,height:80,className:"rounded-full"})}),(0,b.jsx)(e.CardTitle,{className:"text-2xl font-bold text-gray-800",children:"Admin Login"}),(0,b.jsx)(e.CardDescription,{children:"Sto Niño de Praga Academy"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("form",{onSubmit:a2,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(h.Label,{htmlFor:"email",className:"text-gray-800",children:[(0,b.jsx)(y.Mail,{className:"w-4 h-4 inline mr-2"}),"Email"]}),(0,b.jsx)(g.Input,{id:"email",type:"email",value:Q,onChange:a=>R(a.target.value),placeholder:"Enter your email",required:!0,className:"border-gray-300"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(h.Label,{htmlFor:"password",className:"text-gray-800",children:[(0,b.jsx)(x.Lock,{className:"w-4 h-4 inline mr-2"}),"Password"]}),(0,b.jsx)(g.Input,{id:"password",type:"password",value:S,onChange:a=>T(a.target.value),placeholder:"Enter your password",required:!0,className:"border-gray-300"})]}),U&&(0,b.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-lg",children:U}),(0,b.jsx)(d.Button,{type:"submit",className:"w-full bg-red-800 hover:bg-red-700",disabled:W,children:W?"Logging in...":"Login"}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsxs)(H.default,{href:"/",className:"text-sm text-gray-600 hover:text-red-800",children:[(0,b.jsx)(v.Home,{className:"w-4 h-4 inline mr-1"}),"Back to Home"]})})]})})]})})}a.s(["default",()=>M],88367)}];

//# sourceMappingURL=app_admin_page_tsx_bc658df7._.js.map